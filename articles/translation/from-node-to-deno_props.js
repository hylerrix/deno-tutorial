import projectConfig from '/pagic.config.js';
import Ga from '/_ga.js';
import Gitalk from '/_gitalk.js';
export default {
    'prev': {
        "text": "Deno + WebSockets æ‰“é€ èŠå¤©å®¤åº”ç”¨",
        "link": "articles/translation/deno-chat-app.html"
    },
    'next': {
        "text": "Deno + Oak æ„å»ºé…·ç‚«çš„ Todo API",
        "link": "articles/translation/deno-oak-todo-api.html"
    },
    config: { "root": "/", ...projectConfig, branch: 'main' },
    'pagePath': "articles/translation/from-node-to-deno.md",
    'layoutPath': "_layout.tsx",
    'outputPath': "articles/translation/from-node-to-deno.html",
    'title': "ä» Node åˆ° Denoï¼šæ¢ç´¢å„å¤§ä¸»æµåº“æ›¿ä»£æ–¹æ¡ˆ",
    'content': React.createElement("article", { dangerouslySetInnerHTML: {
            __html: '<h1>ä» Node åˆ° Denoï¼šæ¢ç´¢å„å¤§ä¸»æµåº“æ›¿ä»£æ–¹æ¡ˆ</h1>\n<blockquote>\n<ul>\n<li>åŸæ–‡åœ°å€ï¼š<a href="https://aralroca.com/blog/from-node-to-deno">From Node to Deno</a></li>\n<li>åŸæ–‡ä½œè€…ï¼šAral Roca</li>\n<li>åŸæ–‡å‘å¸ƒæ—¶é—´ï¼š2020-05-17</li>\n<li>è¯‘è€…ï¼š<a href="https://github.com/hylerrix">@hylerrix</a>, <a href="http://github.com/yunkou">@YunKou</a></li>\n<li>å¤‡æ³¨ï¼šæœ¬æ–‡å·²è·åŸä½œè€…æˆæƒï¼ŒåŒæ—¶æœ¬æ–‡ä¼šæ”¶å½•åœ¨<a href="https://github.com/hylerrix/deno-tutorial">ã€ŠDeno é’»ç ”ä¹‹æœ¯ã€‹</a>çš„ç¿»è¯‘ç¯‡ä¸­ã€‚</li>\n<li>å¤‡æ³¨ï¼šæœ¬æ–‡ç‹¬ç«‹äº‰å–æˆæƒä¸ç¿»è¯‘çš„åŒæ—¶ï¼Œå‘ç° InfoQ ç­‰å¹³å°ä¹Ÿç‹¬ç«‹æˆæƒç¿»è¯‘ï¼Œå¯ä»¥ä½œä¸ºå¯¹æ¯”ã€‚çœ‹æ¥ç¿»è¯‘çš„æ–‡ç« ä¸èƒ½ç§¯å‹ï¼Œè¦ä¸ä¹Ÿä¼šé”™å¤±é£å£~</li>\n</ul>\n</blockquote>\n<p><img src="http://qiniu.ningo.cloud/articles/1b3-01.jpg" alt=""></p>\n<p>ä¸Šå‘¨æˆ‘å‘è¡¨äº†ä¸€ç¯‡å…³äº Deno çš„æ–‡ç« ï¼š<a href="https://aralroca.com/blog/learn-deno-chat-app">ã€ŠDeno + WebSockets æ‰“é€ èŠå¤©å®¤åº”ç”¨ã€‹</a>ã€‚åœ¨é‚£ä¹‹åï¼Œæœ‰å¾ˆå¤šå›°æƒ‘æ¥è¸µè€Œè‡³â€”â€”å…¶ä¸­å¤§éƒ¨åˆ†éƒ½åœ¨æ€è€ƒå¦‚ä½•åœ¨å…¨æ–°çš„ Deno ç”Ÿæ€ä¸­æ¥åš Node.js ä¸Šå¸¸åšçš„å·¥ä½œã€‚</p>\n<p>æ‰€ä»¥æˆ‘å°è¯•æ•´ç†ä¸€äº› Node.js ä¸­å¸¸è§åº“åœ¨ Deno ä¸‹çš„ç›¸å…³è§£å†³æ–¹æ¡ˆã€‚åœ¨è¿™é‡Œæˆ‘å¾—å¼ºè°ƒï¼Œå¾ˆå¤š Node.js çš„æ¨¡å—éƒ½å¯ä»¥é‡ç”¨ï¼Œå¹¶ä¸”æ²¡æœ‰å¿…è¦ä¸ºæ¯ä¸ªåº“éƒ½é‡æ–°é€ ä¸€éè½®å­ã€‚ä½ å¯ä»¥è®¿é—® <a href="https://www.pika.dev/about">pika.dev</a> æ¥å¯»æ‰¾åœ¨ Deno ä¸­å¯ä»¥ç›´æ¥ä½¿ç”¨çš„ ES æ¨¡å—ã€‚</p>\n<blockquote>\n<p>è¯‘è€…æ³¨ï¼šã€ŠDeno + WebSockets æ‰“é€ èŠå¤©å®¤åº”ç”¨ã€‹å·²ç»ç¿»è¯‘å¹¶æ”¶å½•ï¼›pika.dev ç”¨æ¥åœ¨ Npm ä¸Šå¯»æ‰¾ç¬¦åˆç°ä»£ ESM æ ‡å‡†çš„è½¯ä»¶åŒ…ï¼ˆæ›´å¿«ã€æ›´å°ï¼‰ã€‚</p>\n</blockquote>\n<p><strong>æœ¬æ–‡çš„ç›®å½•å¦‚ä¸‹ï¼š</strong></p>\n<ul>\n<li>Electron</li>\n<li>Forever / PM2</li>\n<li>Express / Koa</li>\n<li>MongoDB</li>\n<li>PostgresSQL</li>\n<li>MySQL / MariaDB</li>\n<li>Redis</li>\n<li>Nodemon</li>\n<li>Jestã€Jasmineã€Ava...</li>\n<li>Webpackã€Parcelã€Rollup...</li>\n<li>Prettier</li>\n<li>NPM Scripts</li>\n<li>Nvm</li>\n<li>Npx</li>\n<li>åœ¨ Docker ä¸Šè¿è¡Œ</li>\n<li>ä½œä¸º Lambda è¿è¡Œ</li>\n<li>å°ç»“</li>\n</ul>\n<h2 id="electron">Electron<a class="anchor" href="#electron">Â§</a></h2>\n<p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨åŸºäº Node.js + <code>Chromium</code> çš„ Electron æ¥ä¾æ‰˜ Web æŠ€æœ¯æ ˆåˆ›å»ºæ¡Œé¢åº”ç”¨ç¨‹åºã€‚é‚£ä¹ˆæˆ‘ä»¬å¯ä»¥åœ¨ Deno ä¸‹ä½¿ç”¨ Electron å—ï¼Ÿæˆ–è€…è¿˜æœ‰å…¶å®ƒæ›´å¤šé€‰æ‹©å—ï¼Ÿ</p>\n<p><img src="http://qiniu.ningo.cloud/articles/1b3-02.jpg" alt=""></p>\n<p>ç­”æ¡ˆæ˜¯å¦‚ä»Šçš„ Electron è¿˜è¿œè¿œä¸èƒ½è¿è¡Œåœ¨ Deno ä¸Šï¼Œæˆ‘ä»¬å¿…é¡»å¯»æ‰¾å…¶å®ƒçš„è§£å†³æ–¹æ¡ˆã€‚è‡ªä» Deno é€‰æ‹©ç”¨ Rust è¯­è¨€æ„å»ºå…¶å†…æ ¸åï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ Rust ç”Ÿæ€ä¸Šçš„ Web View <a href="https://github.com/Boscop/web-view">@Bosop/web-view</a> æ¥åœ¨ Deno ä¸Šè¿è¡Œæ¡Œé¢åº”ç”¨ã€‚</p>\n<p>äºæ˜¯ <a href="https://github.com/eliassjogreen/deno_webview">@eliassjogreen/deno_webview</a> åº”è¿è€Œç”Ÿã€‚</p>\n<pre class="language-typescript"><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">{</span> WebView <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"<a class="token url-link" href="https://deno.land/x/webview/mod.ts">https://deno.land/x/webview/mod.ts</a>"</span><span class="token punctuation">;</span>\n\n<span class="token keyword">const</span> sharedOptions <span class="token operator">=</span> <span class="token punctuation">{</span>\n  width<span class="token operator">:</span> <span class="token number">400</span><span class="token punctuation">,</span>\n  height<span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span>\n  resizable<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>\n  debug<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>\n  frameless<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n<span class="token keyword">const</span> webview1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WebView</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n  title<span class="token operator">:</span> <span class="token string">"Multiple deno_webview example"</span><span class="token punctuation">,</span>\n  url<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">data:text/html,\n    &lt;html>\n    &lt;body>\n      &lt;h1>1&lt;/h1>\n    &lt;/body>\n    &lt;/html>\n    </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>\n  <span class="token operator">...</span>sharedOptions<span class="token punctuation">,</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token keyword">const</span> webview2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WebView</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n  title<span class="token operator">:</span> <span class="token string">"Multiple deno_webview example"</span><span class="token punctuation">,</span>\n  url<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">data:text/html,\n    &lt;html>\n    &lt;body>\n      &lt;h1>2&lt;/h1>\n    &lt;/body>\n    &lt;/html>\n    </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>\n  <span class="token operator">...</span>sharedOptions<span class="token punctuation">,</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token keyword">await</span> <span class="token builtin">Promise</span><span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">[</span>webview1<span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> webview2<span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre>\n<p><img src="http://qiniu.ningo.cloud/articles/1b3-03.jpg" alt=""></p>\n<h2 id="forever--pm2">Forever / PM2<a class="anchor" href="#forever--pm2">Â§</a></h2>\n<p><a href="https://github.com/foreversd/forever">Forever</a> å’Œ <a href="https://github.com/Unitech/pm2">PM2</a>Â æ˜¯ç”¨æ¥å®ˆæŠ¤æŒ‡å®šè„šæœ¬å…¶è¿›ç¨‹çš„ä¸¤ä¸ª CLI å·¥å…·ã€‚PM2 ç›¸æ¯” Forever æ¥è¯´åŠŸèƒ½æ›´ä¸ºå®Œå–„ï¼Œç›¸æ¯”è¿˜èƒ½åŒæ—¶ä½œä¸ºè´Ÿè½½å‡è¡¡å™¨ã€‚åœ¨ Node.js ä¸­è¿™ä¸¤ä¸ªå·¥å…·éƒ½å¾ˆæœ‰ç”¨ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ Deno ä¸­ä¹Ÿä½¿ç”¨å®ƒä»¬å—ï¼Ÿ</p>\n<p>Forever ä¸“ä¸º Node.js åˆ›é€ ï¼Œå°±ä¸ç”¨è€ƒè™‘äº†ï¼›è€Œ PM2 å¯ä»¥è¿è¡Œ Node.js ä¹‹å¤–çš„çš„è„šæœ¬è¯­è¨€ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥è®© PM2 å’Œ Deno æ­é…èµ·æ¥ã€‚</p>\n<p><img src="http://qiniu.ningo.cloud/articles/1b3-04.jpg" alt=""></p>\n<p>åˆ›å»ºä¸€ä¸ª <code>app.sh</code> æ–‡ä»¶ï¼š</p>\n<pre class="language-bash"><code class="language-bash"><span class="token shebang important">#!/bin/bash</span>\ndeno run -A myCode.ts\n</code></pre>\n<p>ä¿å­˜ååœ¨å½“å‰ç›®å½•æ‰§è¡Œï¼ˆè¯·ç¡®ä¿ pm2 å·²æˆåŠŸå®‰è£…ï¼‰ï¼š</p>\n<pre class="language-bash"><code class="language-bash">pm2 start ./app.sh\n</code></pre>\n<p><img src="http://qiniu.ningo.cloud/articles/1b3-05.jpg" alt=""></p>\n<h2 id="express--koa">Express / Koa<a class="anchor" href="#express--koa">Â§</a></h2>\n<p><a href="https://github.com/expressjs/express">Express</a> å’Œ <a href="https://github.com/koajs/koa">Koa</a> ä»¥å…¶å¼ºå¤§çš„è·¯ç”±ç³»ç»Ÿå’Œå‹å¥½çš„ HTTP å·¥å…·åº“ï¼ˆé‡å®šå‘ã€ç¼“å­˜ç­‰ï¼‰è€Œé—»åäº Node.js ç¤¾åŒºã€‚æˆ‘ä»¬å¯ä»¥åœ¨ Deno ä¸­ä½¿ç”¨å®ƒä»¬å—ï¼Ÿç­”æ¡ˆæ˜¯ä¸èƒ½...ä½†ä¹Ÿæœ‰ä¸€äº›æ›¿ä»£æ–¹æ¡ˆã€‚</p>\n<p><img src="http://qiniu.ningo.cloud/articles/1b3-06.jpg" alt=""></p>\n<h3 id="http%E6%A0%87%E5%87%86%E5%BA%93">HTTPï¼ˆæ ‡å‡†åº“ï¼‰<a class="anchor" href="#http%E6%A0%87%E5%87%86%E5%BA%93">Â§</a></h3>\n<p>Deno å†…ç½®çš„ STD æ ‡å‡†åº“å·²ç»æ¶µç›–äº† <code>Express</code> æˆ– <code>Koa</code> çš„ç»å¤§å¤šæ•°åŠŸèƒ½ï¼š<a href="https://deno.land/std/http/">https://deno.land/std/http/</a>ã€‚</p>\n<pre class="language-typescript"><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">{</span> ServerRequest <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"<a class="token url-link" href="https://deno.land/std/http/server.ts">https://deno.land/std/http/server.ts</a>"</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> <span class="token punctuation">{</span> getCookies <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"<a class="token url-link" href="https://deno.land/std/http/cookie.ts">https://deno.land/std/http/cookie.ts</a>"</span><span class="token punctuation">;</span>\n\n<span class="token keyword">let</span> request <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ServerRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\nrequest<span class="token punctuation">.</span>headers <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Headers</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\nrequest<span class="token punctuation">.</span>headers<span class="token punctuation">.</span><span class="token keyword">set</span><span class="token punctuation">(</span><span class="token string">"Cookie"</span><span class="token punctuation">,</span> <span class="token string">"full=of; tasty=chocolate"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token keyword">const</span> cookies <span class="token operator">=</span> <span class="token function">getCookies</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"cookies:"</span><span class="token punctuation">,</span> cookies<span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre>\n<p>ä½†ç”±äº Deno å†…ç½®çš„ HTTP æ ‡å‡†åº“å…¶å£°æ˜è·¯ç”±çš„æ–¹å¼å¹¶ä¸é‚£ä¹ˆå¸å¼•äººï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹å…¶å®ƒçš„è§£å†³æ–¹æ¡ˆï¼Œå¦‚ä¸‹ã€‚</p>\n<h3 id="oak-%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93">Oak (ç¬¬ä¸‰æ–¹åº“)<a class="anchor" href="#oak-%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93">Â§</a></h3>\n<p>å— Koa å¯å‘ï¼Œè¿™æ˜¯ç›®å‰æœ€ä¼˜é›…çš„è§£å†³æ–¹æ¡ˆä¹‹ä¸€ï¼š<a href="https://github.com/oakserver/oak">https://github.com/oakserver/oak</a>ã€‚</p>\n<pre class="language-typescript"><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">{</span> Application<span class="token punctuation">,</span>  <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"<a class="token url-link" href="https://deno.land/x/oak/mod.ts">https://deno.land/x/oak/mod.ts</a>"</span><span class="token punctuation">;</span>\n\n<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Application</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\napp<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token punctuation">(</span>ctx<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n  ctx<span class="token punctuation">.</span>response<span class="token punctuation">.</span>body <span class="token operator">=</span> <span class="token string">"Hello World!"</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token keyword">await</span> app<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token punctuation">{</span> port<span class="token operator">:</span> <span class="token number">8000</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre>\n<h3 id="abc-%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93">Abc (ç¬¬ä¸‰æ–¹åº“)<a class="anchor" href="#abc-%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93">Â§</a></h3>\n<p>ç±»ä¼¼äº <code>Oak</code>ï¼š<a href="https://deno.land/x/abc">https://deno.land/x/abc</a>ã€‚</p>\n<pre class="language-typescript"><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">{</span> Application <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"<a class="token url-link" href="https://deno.land/x/abc/mod.ts">https://deno.land/x/abc/mod.ts</a>"</span><span class="token punctuation">;</span>\n\n<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Application</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\napp<span class="token punctuation">.</span><span class="token keyword">static</span><span class="token punctuation">(</span><span class="token string">"/static"</span><span class="token punctuation">,</span> <span class="token string">"assets"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\napp<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">"/hello"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>c<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token string">"Hello!"</span><span class="token punctuation">)</span>\n  <span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">{</span> port<span class="token operator">:</span> <span class="token number">8080</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre>\n<h3 id="deno-express%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93">Deno-Expressï¼ˆç¬¬ä¸‰æ–¹åº“ï¼‰<a class="anchor" href="#deno-express%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93">Â§</a></h3>\n<p>ä¹Ÿè®¸æ˜¯æœ€ç±»ä¼¼äº Express Framework çš„æ›¿ä»£å“ï¼š<a href="https://github.com/NMathar/deno-express">https://github.com/NMathar/deno-express</a>ã€‚</p>\n<pre class="language-typescript"><code class="language-typescript"><span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> exp <span class="token keyword">from</span> <span class="token string">"<a class="token url-link" href="https://raw.githubusercontent.com/NMathar/deno-express/master/mod.ts">https://raw.githubusercontent.com/NMathar/deno-express/master/mod.ts</a>"</span><span class="token punctuation">;</span>\n\n<span class="token keyword">const</span> port <span class="token operator">=</span> <span class="token number">3000</span><span class="token punctuation">;</span>\n<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">exp</span><span class="token punctuation">.</span><span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\napp<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>exp<span class="token punctuation">.</span><span class="token function">static_</span><span class="token punctuation">(</span><span class="token string">"./public"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\napp<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>exp<span class="token punctuation">.</span>bodyParser<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\napp<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">"/api/todos"</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span>req<span class="token punctuation">,</span> res<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n  <span class="token keyword">await</span> res<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">"Buy some milk"</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token keyword">const</span> server <span class="token operator">=</span> <span class="token keyword">await</span> app<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span>port<span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">app listening on port </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>server<span class="token punctuation">.</span>port<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre>\n<h2 id="mongodb">MongoDB<a class="anchor" href="#mongodb">Â§</a></h2>\n<p><a href="https://github.com/mongodb/mongo">MongoDB</a> æ˜¯ä¸€ä¸ªå¹¿å—æ¬¢è¿çš„æ–‡æ¡£æ•°æ®åº“ï¼Œå…·æœ‰å¼ºå¤§çš„å¯æ‰©å±•æ€§å’Œçµæ´»æ€§ã€‚åœ¨ JavaScript ç”Ÿæ€ç³»ç»Ÿä¸­å·²ç»è¢«å¹¿æ³›ä½¿ç”¨ï¼šæ¯”å¦‚å¾ˆå¤šåƒÂ <code>MEAN</code>Â æˆ–Â <code>MERN</code>Â è¿™æ ·çš„æŠ€æœ¯å †æ ˆã€‚</p>\n<blockquote>\n<p>è¯‘è€…æ³¨ï¼šMEAN = MongoDB(æ•°æ®åº“) + Express(åç«¯) + Angular(å‰ç«¯) + Node.js(è¿è¡Œæ—¶)ï¼›MERN åŒå·¦ï¼Œä½†å…¶ä¸­çš„ R ä»£è¡¨ Reactã€‚å¦‚ä¸ŠæŠ€æœ¯æ ˆéƒ½å¯¹ JavaScript è¯­è¨€æå…¶å‹å¥½ã€‚</p>\n</blockquote>\n<p><img src="http://qiniu.ningo.cloud/articles/1b3-07.jpg" alt=""></p>\n<p>å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥è®© Deno å’Œ MongoDB æ­é…èµ·æ¥ï¼Œæ¯”å¦‚ä½¿ç”¨è¿™ä¸ªæ¨¡å—ï¼š<a href="https://github.com/manyuanrong/deno_mongo">https://github.com/manyuanrong/deno_mongo</a>ã€‚</p>\n<pre class="language-typescript"><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">{</span> init<span class="token punctuation">,</span> MongoClient <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"<a class="token url-link" href="https://deno.land/x/mongo@v0.6.0/mod.ts">https://deno.land/x/mongo@v0.6.0/mod.ts</a>"</span><span class="token punctuation">;</span>\n\n<span class="token comment">// Initialize the plugin</span>\n<span class="token keyword">await</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token keyword">const</span> client <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MongoClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\nclient<span class="token punctuation">.</span><span class="token function">connectWithUri</span><span class="token punctuation">(</span><span class="token string">"<a class="token url-link" href="mongodb://localhost:27017">mongodb://localhost:27017</a>"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token keyword">const</span> db <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">database</span><span class="token punctuation">(</span><span class="token string">"test"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">const</span> users <span class="token operator">=</span> db<span class="token punctuation">.</span><span class="token function">collection</span><span class="token punctuation">(</span><span class="token string">"users"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token comment">// insert</span>\n<span class="token keyword">const</span> insertId <span class="token operator">=</span> <span class="token keyword">await</span> users<span class="token punctuation">.</span><span class="token function">insertOne</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n  username<span class="token operator">:</span> <span class="token string">"user1"</span><span class="token punctuation">,</span>\n  password<span class="token operator">:</span> <span class="token string">"pass1"</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token comment">// findOne</span>\n<span class="token keyword">const</span> user1 <span class="token operator">=</span> <span class="token keyword">await</span> users<span class="token punctuation">.</span><span class="token function">findOne</span><span class="token punctuation">(</span><span class="token punctuation">{</span> _id<span class="token operator">:</span> insertId <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token comment">// find</span>\n<span class="token keyword">const</span> users <span class="token operator">=</span> <span class="token keyword">await</span> users<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">{</span> username<span class="token operator">:</span> <span class="token punctuation">{</span> $ne<span class="token operator">:</span> <span class="token keyword">null</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token comment">// aggregation</span>\n<span class="token keyword">const</span> docs <span class="token operator">=</span> <span class="token keyword">await</span> users<span class="token punctuation">.</span><span class="token function">aggregation</span><span class="token punctuation">(</span><span class="token punctuation">[</span>\n  <span class="token punctuation">{</span> $match<span class="token operator">:</span> <span class="token punctuation">{</span> username<span class="token operator">:</span> <span class="token string">"many"</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>\n  <span class="token punctuation">{</span> $group<span class="token operator">:</span> <span class="token punctuation">{</span> _id<span class="token operator">:</span> <span class="token string">"$username"</span><span class="token punctuation">,</span> total<span class="token operator">:</span> <span class="token punctuation">{</span> $sum<span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span>\n<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token comment">// updateOne</span>\n<span class="token keyword">const</span> <span class="token punctuation">{</span> matchedCount<span class="token punctuation">,</span> modifiedCount<span class="token punctuation">,</span> upsertedId <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">await</span> users<span class="token punctuation">.</span><span class="token function">updateOne</span><span class="token punctuation">(</span>\n  username<span class="token operator">:</span> <span class="token punctuation">{</span> $ne<span class="token operator">:</span> <span class="token keyword">null</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>\n  <span class="token punctuation">{</span> $<span class="token keyword">set</span><span class="token operator">:</span> <span class="token punctuation">{</span> username<span class="token operator">:</span> <span class="token string">"USERNAME"</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span>\n<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token comment">// deleteOne</span>\n<span class="token keyword">const</span> deleteCount <span class="token operator">=</span> <span class="token keyword">await</span> users<span class="token punctuation">.</span><span class="token function">deleteOne</span><span class="token punctuation">(</span><span class="token punctuation">{</span> _id<span class="token operator">:</span> insertId <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre>\n<h2 id="postgressql">PostgresSQL<a class="anchor" href="#postgressql">Â§</a></h2>\n<p><img src="http://qiniu.ningo.cloud/articles/1b3-08.jpg" alt=""></p>\n<p>ä¸ MongoDB ä¸€æ ·ï¼Œ<a href="https://github.com/postgres/postgres/">PostgresSQL</a> ä¹Ÿæœ‰ä¸€ä¸ª Deno ç”Ÿæ€åº“ï¼š<a href="https://github.com/buildondata/deno-postgres%E3%80%82">https://github.com/buildondata/deno-postgresã€‚</a></p>\n<pre class="language-typescript"><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">{</span> Client <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"<a class="token url-link" href="https://deno.land/x/postgres/mod.ts">https://deno.land/x/postgres/mod.ts</a>"</span><span class="token punctuation">;</span>\n\n<span class="token keyword">const</span> client <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Client</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n  user<span class="token operator">:</span> <span class="token string">"user"</span><span class="token punctuation">,</span>\n  database<span class="token operator">:</span> <span class="token string">"test"</span><span class="token punctuation">,</span>\n  hostname<span class="token operator">:</span> <span class="token string">"localhost"</span><span class="token punctuation">,</span>\n  port<span class="token operator">:</span> <span class="token number">5432</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">await</span> client<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token keyword">await</span> client<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token string">"SELECT * FROM people;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span>rows<span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">await</span> client<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre>\n<h2 id="mysql--mariadb">MySQL / MariaDB<a class="anchor" href="#mysql--mariadb">Â§</a></h2>\n<p><img src="http://qiniu.ningo.cloud/articles/1b3-09.jpg" alt=""></p>\n<p>ä¸Â <code>MongoDB</code>Â å’ŒÂ <code>PostgresSQL</code>Â ä¸€æ ·ï¼ŒDeno ç”Ÿæ€ä¸‹ä¹Ÿæœ‰Â <a href="https://github.com/mysqljs/mysql">MySQL</a>/<a href="https://github.com/mariadb-corporation/mariadb-connector-nodejs">MariaDB</a>Â çš„ç›¸å…³åº“ï¼š<a href="https://github.com/manyuanrong/deno_mysql">https://github.com/manyuanrong/deno_mysql</a>ã€‚</p>\n<pre class="language-typescript"><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">{</span> Client <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"<a class="token url-link" href="https://deno.land/x/mysql/mod.ts">https://deno.land/x/mysql/mod.ts</a>"</span><span class="token punctuation">;</span>\n\n<span class="token keyword">const</span> client <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token keyword">new</span> <span class="token class-name">Client</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n  hostname<span class="token operator">:</span> <span class="token string">"127.0.0.1"</span><span class="token punctuation">,</span>\n  username<span class="token operator">:</span> <span class="token string">"root"</span><span class="token punctuation">,</span>\n  db<span class="token operator">:</span> <span class="token string">"dbname"</span><span class="token punctuation">,</span>\n  poolSize<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token comment">// connection limit</span>\n  password<span class="token operator">:</span> <span class="token string">"password"</span><span class="token punctuation">,</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token keyword">await</span> client<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">INSERT INTO users(name) values(?)</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token punctuation">[</span>\n  <span class="token string">"aralroca"</span><span class="token punctuation">,</span>\n<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token comment">// { affectedRows: 1, lastInsertId: 1 }</span>\n</code></pre>\n<h2 id="redis">Redis<a class="anchor" href="#redis">Â§</a></h2>\n<p><img src="http://qiniu.ningo.cloud/articles/1b3-10.jpg" alt=""></p>\n<p><a href="https://github.com/NodeRedis/node-redis">Redis</a> æ˜¯è‘—åçš„ç¼“å­˜æ•°æ®åº“ä¹‹ä¸€ï¼ŒDeno ä¸‹ä¹Ÿæœ‰ç›¸å…³åº“ï¼š<a href="https://github.com/keroxp/deno-redis">https://github.com/keroxp/deno-redis</a>ã€‚</p>\n<pre class="language-typescript"><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">{</span> connect <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"<a class="token url-link" href="https://denopkg.com/keroxp/deno-redis/mod.ts">https://denopkg.com/keroxp/deno-redis/mod.ts</a>"</span><span class="token punctuation">;</span>\n\n<span class="token keyword">const</span> redis <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">connect</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n  hostname<span class="token operator">:</span> <span class="token string">"127.0.0.1"</span><span class="token punctuation">,</span>\n  port<span class="token operator">:</span> <span class="token number">6379</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">const</span> ok <span class="token operator">=</span> <span class="token keyword">await</span> redis<span class="token punctuation">.</span><span class="token keyword">set</span><span class="token punctuation">(</span><span class="token string">"example"</span><span class="token punctuation">,</span> <span class="token string">"this is an example"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">const</span> example <span class="token operator">=</span> <span class="token keyword">await</span> redis<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">"example"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre>\n<h2 id="nodemon">Nodemon<a class="anchor" href="#nodemon">Â§</a></h2>\n<p><img src="http://qiniu.ningo.cloud/articles/1b3-11.jpg" alt=""></p>\n<p><a href="https://github.com/remy/nodemon">Nodemon</a>Â åœ¨å¼€å‘ç¯å¢ƒä¸­ç›‘æ§æ–‡ä»¶çš„ä»»ä½•æ”¹å˜ï¼Œå¹¶èƒ½è‡ªåŠ¨æ›´æ–°æœåŠ¡å™¨ã€‚è¿™ä½¿Â <code>node</code>Â ä¸‹çš„å‘æ›´åŠ æœ‰è¶£ï¼Œæ— éœ€æ‰‹åŠ¨åœæ­¢å¹¶é‡å¯æœåŠ¡å™¨æ¥æŸ¥çœ‹åº”ç”¨çš„å˜åŒ–ã€‚é‚£ä¹ˆ Nodemon å¯ä»¥åœ¨ Deno ä¸­ä½¿ç”¨å—ï¼Ÿ</p>\n<p>æŠ±æ­‰ï¼Œä¸èƒ½...ä½†ä»ç„¶æœ‰å¦ä¸€ç§é€‰æ‹©ï¼šDenonï¼š<a href="https://github.com/eliassjogreen/denon">https://github.com/eliassjogreen/denon</a>ã€‚</p>\n<p>æˆ‘ä»¬å¯ä»¥åƒæ˜¯ <code>deno run</code>Â æ‰§è¡Œè„šæœ¬çš„æ–¹å¼ä¸€æ ·ä½¿ç”¨Â <code>Denon</code>ã€‚</p>\n<pre class="language-bash"><code class="language-bash">âœ denon server.ts\n</code></pre>\n<h2 id="jestjasmineava">Jestã€Jasmineã€Ava...<a class="anchor" href="#jestjasmineava">Â§</a></h2>\n<p><img src="http://qiniu.ningo.cloud/articles/1b3-12.jpg" alt=""></p>\n<p>åœ¨Â <code>Node.js</code>Â çš„ç”Ÿæ€ç³»ç»Ÿä¸­ï¼Œæœ‰å¾ˆå¤šä¸åŒçš„æµ‹è¯•å·¥å…·å’Œæ–¹æ³•ã€‚ä½†ç›´åˆ°ç°åœ¨ï¼Œå®˜æ–¹ä¹Ÿæ²¡æœ‰æ¨å‡ºä¸€ç§æ­£å¼çš„æœºåˆ¶æ¥æµ‹è¯•Â <code>Node.js</code>Â ä»£ç ã€‚</p>\n<p>åœ¨ Deno ä¸­ï¼Œå¯ä»¥ä½¿ç”¨å®˜æ–¹æµ‹è¯•Â <code>std</code>Â åº“æµ‹è¯•ï¼š<a href="https://deno.land/std/testing">https://deno.land/std/testing</a>ã€‚</p>\n<pre class="language-typescript"><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">{</span> assertStrictEq <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">\'<a class="token url-link" href="https://deno.land/std/testing/asserts.ts">https://deno.land/std/testing/asserts.ts</a>\'</span>\n\nDeno<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">\'My first test\'</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n  <span class="token function">assertStrictEq</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span>\n</code></pre>\n<p>è¿è¡Œæµ‹è¯•ï¼š</p>\n<pre class="language-bash"><code class="language-bash">âœ  deno <span class="token builtin class-name">test</span>\n</code></pre>\n<h2 id="webpackparcelrollup">Webpackã€Parcelã€Rollup...<a class="anchor" href="#webpackparcelrollup">Â§</a></h2>\n<p><img src="http://qiniu.ningo.cloud/articles/1b3-13.jpg" alt=""></p>\n<p>Deno çš„ä¼˜åŠ¿ä¹‹ä¸€æ˜¯æˆ‘ä»¬å¯ä»¥å°†Â <code>ESmodules</code>Â ä¸<code>TypeScript</code>Â ä¸€èµ·ä½¿ç”¨ï¼Œè€Œæ— éœ€è¯¸å¦‚Â <a href="https://github.com/webpack/webpack">Webpack</a>ã€<a href="https://github.com/parcel-bundler/parcel">Parcel</a>Â æˆ–<a href="https://github.com/rollup/rollup">Rollup</a>Â ä¹‹ç±»çš„å·¥å…·ã€‚</p>\n<p>ç„¶è€Œï¼Œå¯èƒ½ä½ ä¼šæƒ³ï¼Œå¦‚æœç»™å®šä¸€ä¸ªæ–‡ä»¶ç›®å½•ï¼Œæˆ‘ä»¬æ˜¯å¦å¯ä»¥å°†å…¶ç»Ÿä¸€æ‰“åŒ…åœ¨æœ‰ä¸€ä¸ª JavaScript æ–‡ä»¶é‡Œï¼Œå¹¶è®©å…¶èƒ½ç›´æ¥åœ¨ Web ä¸Šä»¥æ¨¡å—çš„å½¢å¼è¿è¡Œã€‚</p>\n<p>ç­”æ¡ˆæ˜¯å®Œå…¨å¯è¡Œï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ Deno çš„ CLI æ¥å®ç°ã€‚å› æ­¤ï¼Œä¸éœ€è¦ç¬¬ä¸‰æ–¹çš„æ‰“åŒ…å·¥å…·ã€‚</p>\n<pre class="language-bash"><code class="language-bash">âœ deno bundle myLib.ts myLib.bundle.js\n</code></pre>\n<p>ç°åœ¨å¯ä»¥å°†å…¶åŠ è½½åˆ°æµè§ˆå™¨ä¸­äº†ï¼š</p>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>module<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">\n  <span class="token keyword module">import</span> <span class="token imports"><span class="token operator">*</span> <span class="token keyword module">as</span> myLib</span> <span class="token keyword module">from</span> <span class="token string">"myLib.bundle.js"</span><span class="token punctuation">;</span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>\n</code></pre>\n<h2 id="prettier">Prettier<a class="anchor" href="#prettier">Â§</a></h2>\n<p><img src="http://qiniu.ningo.cloud/articles/1b3-14.jpg" alt=""></p>\n<p>åœ¨è¿‡å»çš„å‡ å¹´ä¸­ï¼Œ<a href="https://prettier.io/">Prettier</a>Â åœ¨ JavaScript ç”Ÿæ€ä¸­å·²å¹¿ä¸ºäººçŸ¥ï¼Œå› ä¸ºæœ‰äº†å®ƒï¼Œæˆ‘ä»¬ä¸å¿…æ‹…å¿ƒæ ¼å¼åŒ–æ–‡ä»¶ã€‚</p>\n<p>äº‹å®ä¸Š Prettier ä¹Ÿå¯ä»¥åœ¨ Deno ä¸Šä½¿ç”¨ï¼Œä½†æ˜¯æ²¡æœ‰å¿…è¦ï¼šå› ä¸º Deno æœ‰è‡ªå·±å†…ç½®çš„æ ¼å¼åŒ–ç¨‹åºã€‚</p>\n<p>æ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ ¼å¼åŒ–æ–‡ä»¶ï¼š</p>\n<pre class="language-bash"><code class="language-bash">âœ  deno <span class="token function">fmt</span>\n</code></pre>\n<h2 id="npm-scripts">NPM Scripts<a class="anchor" href="#npm-scripts">Â§</a></h2>\n<p><img src="http://qiniu.ningo.cloud/articles/1b3-15.jpg" alt=""></p>\n<p>æˆ‘éå¸¸æ€€å¿µçš„ä¸€ä»¶äº‹å°±æ˜¯æ›¾åœ¨ <code>package.json</code> ä¸­é…ç½®å„ç§å‘½ä»¤è¡Œè„šæœ¬ã€‚ä½†åœ¨ Deno ä¸Šï¼Œ<code>package.json</code>Â å·²ç»ä¸å¤å­˜åœ¨äº†ã€‚</p>\n<p>Deno ä¸Šçš„ä¸€ä¸ªç®€å•çš„æ›¿ä»£æ–¹æ³•æ˜¯ä½¿ç”¨Â <code>makefile</code> æŠ€æœ¯ï¼Œç”¨Â <code>make</code>Â å‘½ä»¤è¿è¡Œã€‚ä½†å¦‚æœä½ æ€€å¿µ NPM çš„è¯­æ³•ï¼ŒDeno ä¸Šä¹Ÿæœ‰ä¸€ä¸ª NPM é£æ ¼çš„è„šæœ¬è¿è¡Œå™¨ï¼š<a href="https://github.com/umbopepato/velociraptor">https://github.com/umbopepato/velociraptor</a></p>\n<p>æ‚¨å¯ä»¥ä½¿ç”¨è„šæœ¬å®šä¹‰æ–‡ä»¶ï¼š</p>\n<pre class="language-yaml"><code class="language-yaml"><span class="token comment"># scripts.yaml</span>\n<span class="token key atrule">scripts</span><span class="token punctuation">:</span>\n  <span class="token key atrule">start</span><span class="token punctuation">:</span> deno run <span class="token punctuation">-</span><span class="token punctuation">-</span>allow<span class="token punctuation">-</span>net server.ts\n  <span class="token key atrule">test</span><span class="token punctuation">:</span> deno test <span class="token punctuation">-</span><span class="token punctuation">-</span>allow<span class="token punctuation">-</span>net server_test.ts\n</code></pre>\n<p>å¹¶æ‰§è¡Œï¼š</p>\n<pre class="language-bash"><code class="language-bash">âœ  vr run <span class="token operator">&lt;</span>SCRIPT<span class="token operator">></span>\n</code></pre>\n<p>è¿˜æœ‰ä¸€ä¸ªæ›¿ä»£å“æ˜¯Â <a href="https://github.com/BentoumiTech/denox">denox</a>ï¼Œä¸Â <code>Velociraptor</code>Â éå¸¸ç›¸ä¼¼ã€‚</p>\n<h2 id="nvm">Nvm<a class="anchor" href="#nvm">Â§</a></h2>\n<p><img src="http://qiniu.ningo.cloud/articles/1b3-16.jpg" alt=""></p>\n<p><a href="https://github.com/nvm-sh/nvm">Nvm</a>Â æ˜¯ä¸€ä¸ªç”¨äºç®¡ç†å¤šä¸ª Node.jsÂ ç‰ˆæœ¬çš„Â <code>CLI</code>Â å·¥å…·ï¼Œå¯ä»¥æ ¹æ®å…·ä½“çš„é¡¹ç›®æ¥è½»æ¾å‡çº§æˆ–é™çº§ Node.js ç‰ˆæœ¬ã€‚</p>\n<p>åœ¨ Deno ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ç›¸å½“äº <code>nvm</code>Â çš„ <code>dvm</code>Â ï¼š<a href="https://github.com/axetroy/dvm">https://github.com/axetroy/dvm</a>ã€‚</p>\n<pre class="language-bash"><code class="language-bash">âœ  dvm use <span class="token number">1.0</span>.0\n</code></pre>\n<h2 id="npx">Npx<a class="anchor" href="#npx">Â§</a></h2>\n<p><a href="https://github.com/npm/npx">NPX</a>Â åœ¨è¿‘å‡ å¹´éå¸¸æµè¡Œï¼Œå¯ä»¥åœ¨ NPM ä¸å®‰è£…çš„æƒ…å†µä¸‹ç›´æ¥æ‰§è¡Œ NPM åŒ…ã€‚ç”±äº Deno æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„ç”Ÿæ€ç³»ç»Ÿï¼Œå› æ­¤å¦‚ä»Šå¾ˆå¤š NPM åº“éƒ½ä¸å¯ç›´æ¥ä½¿ç”¨ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¦‚ä½•åªä½¿ç”¨Â <code>deno install [https://url-of-module.ts](https://url-of-module.ts)</code>Â è€Œæ— éœ€å®‰è£…å°±èƒ½æ‰§è¡Œ Deno æ¨¡å—å‘¢ï¼Ÿ</p>\n<p>å°±åƒæˆ‘ä»¬é€šè¿‡å‘½ä»¤è¡Œè¿è¡Œé¡¹ç›®ä¸€æ ·ï¼Œåªä¸è¿‡è¿™é‡ŒæŠŠæˆ‘ä»¬ä½¿ç”¨ URL æ¨¡å—åçš„ä»£æ›¿äº†æ–‡ä»¶åï¼š</p>\n<pre class="language-bash"><code class="language-bash">âœ  deno run <a class="token url-link" href="https://deno.land/std/examples/welcome.ts">https://deno.land/std/examples/welcome.ts</a>\n</code></pre>\n<p>å¦‚ä¸Šæ‰€è§ï¼Œæˆ‘ä»¬ä¸ä»…ä»…éœ€è¦è®°ä½æ¨¡å—çš„åç§°ï¼Œè¿˜è¦è®°ä½æ•´ä¸ª URL åœ°å€ï¼Œè¿™ä½¿å®ƒçš„ä½¿ç”¨æ›´åŠ éº»çƒ¦ï¼›ä½†æ˜¯å¦ä¸€æ–¹é¢ï¼Œä¹Ÿå› æ­¤æä¾›äº†æ›´å¤§çš„çµæ´»æ€§â€”â€”æˆ‘ä»¬å¯ä»¥è¿è¡Œä»»ä½•æ–‡ä»¶ï¼Œè€Œä¸ä»…ä»…èƒ½è¿è¡Œåƒ Npx è¿™æ ·åœ¨Â <code>package.json</code>Â ä¸­æŒ‡å®šçš„äºŒè¿›åˆ¶æ–‡ä»¶ã€‚</p>\n<h2 id="%E5%9C%A8-docker-%E4%B8%8A%E8%BF%90%E8%A1%8C">åœ¨ Docker ä¸Šè¿è¡Œ<a class="anchor" href="#%E5%9C%A8-docker-%E4%B8%8A%E8%BF%90%E8%A1%8C">Â§</a></h2>\n<p><img src="http://qiniu.ningo.cloud/articles/1b3-17.jpg" alt=""></p>\n<p>è¦åœ¨Â <code>Docker</code>Â å†…éƒ¨è¿è¡Œ Denoï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºä»¥ä¸‹Â <code>Dockerfile</code>ï¼š</p>\n<pre class="language-bash"><code class="language-bash">FROM hayd/alpine-deno:1.0.0\n\nEXPOSE <span class="token number">1993</span>  <span class="token comment"># Port.</span>\n\nWORKDIR /app\n\n<span class="token environment constant">USER</span> deno\n\nCOPY deps.ts <span class="token builtin class-name">.</span>\nRUN deno cache deps.ts <span class="token comment"># Cache the deps</span>\n\nADD <span class="token builtin class-name">.</span> <span class="token builtin class-name">.</span>\nRUN deno cache main.ts <span class="token comment"># main entrypoint.</span>\n\nCMD <span class="token punctuation">[</span><span class="token string">"--allow-net"</span>, <span class="token string">"main.ts"</span><span class="token punctuation">]</span>\n</code></pre>\n<p>æ„å»ºå¹¶è¿è¡Œå®ƒï¼š</p>\n<pre class="language-bash"><code class="language-bash">âœ  docker build -t app <span class="token builtin class-name">.</span> <span class="token operator">&amp;&amp;</span> docker run -it --init -p <span class="token number">1993</span>:1993 app\n</code></pre>\n<p>ç›¸å…³ä»“åº“ï¼š<a href="https://github.com/hayd/deno-docker">https://github.com/hayd/deno-docker</a></p>\n<h2 id="%E4%BD%9C%E4%B8%BA-lambda-%E8%BF%90%E8%A1%8C">ä½œä¸º Lambda è¿è¡Œ<a class="anchor" href="#%E4%BD%9C%E4%B8%BA-lambda-%E8%BF%90%E8%A1%8C">Â§</a></h2>\n<p><img src="http://qiniu.ningo.cloud/articles/1b3-18.jpg" alt=""></p>\n<p>è¦å°† Deno ä½œä¸ºÂ <code>lambda</code>Â è¿è¡Œï¼Œéœ€è¦Â <code>Deno STD</code>Â åº“ä¸­æœ‰ç±»ä¼¼äºè¿™æ ·çš„æ¨¡å—ï¼š<a href="https://deno.land/x/lambda">https://deno.land/x/lambda</a>ã€‚</p>\n<pre class="language-typescript"><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">{</span>\n  APIGatewayProxyEvent<span class="token punctuation">,</span>\n  APIGatewayProxyResult<span class="token punctuation">,</span>\n  Context\n<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"<a class="token url-link" href="https://deno.land/x/lambda/mod.ts">https://deno.land/x/lambda/mod.ts</a>"</span><span class="token punctuation">;</span>\n\n<span class="token keyword">export</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">handler</span><span class="token punctuation">(</span>\n  event<span class="token operator">:</span> APIGatewayProxyEvent<span class="token punctuation">,</span>\n  context<span class="token operator">:</span> Context\n<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span>APIGatewayProxyResult<span class="token operator">></span> <span class="token punctuation">{</span>\n  <span class="token keyword">return</span> <span class="token punctuation">{</span>\n    body<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Welcome to deno </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>Deno<span class="token punctuation">.</span>version<span class="token punctuation">.</span>deno<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> ğŸ¦•</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>\n    headers<span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token string">"content-type"</span><span class="token operator">:</span> <span class="token string">"text/html;charset=utf8"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>\n    statusCode<span class="token operator">:</span> <span class="token number">200</span>\n  <span class="token punctuation">}</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n</code></pre>\n<p>å‚è€ƒï¼š</p>\n<ul>\n<li><code>Vercel</code>Â ä¸­çš„Denoï¼š<a href="https://github.com/lucacasonato/now-deno">https://github.com/lucacasonato/now-deno</a>ã€‚</li>\n<li><code>AWS</code>Â ä¸­çš„Denoï¼š<a href="https://blog.begin.com/deno-runtime-support-for-architect-805fcbaa82c3">https://blog.begin.com/deno-runtime-support-for-architect-805fcbaa82c3</a>ã€‚</li>\n</ul>\n<h2 id="%E5%B0%8F%E7%BB%93">å°ç»“<a class="anchor" href="#%E5%B0%8F%E7%BB%93">Â§</a></h2>\n<p>æœ¬æ–‡ä¸­ï¼Œæˆ‘éš¾å…ä¼šé—æ¼ä¸€äº› Node åº“å¦‚ä½•åœ¨ Deno ä½¿ç”¨çš„è§£å†³æ–¹æ¡ˆã€‚å¦‚æœæœ‰ä»€ä¹ˆæ›´å¤šçš„åœ°æ–¹éœ€è¦æˆ‘è§£é‡Šï¼Œæ¬¢è¿å‘Šè¯‰æˆ‘ã€‚å¸Œæœ›è¿™ç¯‡æ–‡ç« èƒ½å¸®åŠ©ä½ æ‰“ç ´å¿«é€Ÿå…¥æ‰‹ Deno åº”ç”¨å¼€å‘çš„åƒµå±€ã€‚</p>\n<p>è¿™é‡Œå¯ä»¥æ¢ç´¢ Deno ä¸‹ç»å¤§å¤šæ•°å¯ä»¥ä¸Šæ‰‹çš„åº“ï¼š</p>\n<ul>\n<li><a href="https://deno.land/std">https://deno.land/std</a></li>\n<li><a href="https://deno.land/x">https://deno.land/x</a></li>\n<li><a href="https://www.pika.dev/">https://www.pika.dev/</a></li>\n</ul>'
        } }),
    'head': React.createElement(React.Fragment, null,
        React.createElement(Ga, { id: "UA-169223577-1" }),
        React.createElement("link", { href: "/favicon.png", rel: "icon", type: "image/png" })),
    'script': React.createElement(React.Fragment, null,
        React.createElement("script", { src: "https://cdn.pagic.org/react@16.13.1/umd/react.production.min.js" }),
        React.createElement("script", { src: "https://cdn.pagic.org/react-dom@16.13.1/umd/react-dom.production.min.js" }),
        React.createElement("script", { src: "/index.js", type: "module" })),
    'contentTitle': React.createElement("h1", { key: "0" }, "\u4ECE Node \u5230 Deno\uFF1A\u63A2\u7D22\u5404\u5927\u4E3B\u6D41\u5E93\u66FF\u4EE3\u65B9\u6848"),
    'contentBody': React.createElement("article", { dangerouslySetInnerHTML: {
            __html: '<blockquote>\n<ul>\n<li>åŸæ–‡åœ°å€ï¼š<a href="https://aralroca.com/blog/from-node-to-deno">From Node to Deno</a></li>\n<li>åŸæ–‡ä½œè€…ï¼šAral Roca</li>\n<li>åŸæ–‡å‘å¸ƒæ—¶é—´ï¼š2020-05-17</li>\n<li>è¯‘è€…ï¼š<a href="https://github.com/hylerrix">@hylerrix</a>, <a href="http://github.com/yunkou">@YunKou</a></li>\n<li>å¤‡æ³¨ï¼šæœ¬æ–‡å·²è·åŸä½œè€…æˆæƒï¼ŒåŒæ—¶æœ¬æ–‡ä¼šæ”¶å½•åœ¨<a href="https://github.com/hylerrix/deno-tutorial">ã€ŠDeno é’»ç ”ä¹‹æœ¯ã€‹</a>çš„ç¿»è¯‘ç¯‡ä¸­ã€‚</li>\n<li>å¤‡æ³¨ï¼šæœ¬æ–‡ç‹¬ç«‹äº‰å–æˆæƒä¸ç¿»è¯‘çš„åŒæ—¶ï¼Œå‘ç° InfoQ ç­‰å¹³å°ä¹Ÿç‹¬ç«‹æˆæƒç¿»è¯‘ï¼Œå¯ä»¥ä½œä¸ºå¯¹æ¯”ã€‚çœ‹æ¥ç¿»è¯‘çš„æ–‡ç« ä¸èƒ½ç§¯å‹ï¼Œè¦ä¸ä¹Ÿä¼šé”™å¤±é£å£~</li>\n</ul>\n</blockquote>\n<p><img src="http://qiniu.ningo.cloud/articles/1b3-01.jpg" alt=""></p>\n<p>ä¸Šå‘¨æˆ‘å‘è¡¨äº†ä¸€ç¯‡å…³äº Deno çš„æ–‡ç« ï¼š<a href="https://aralroca.com/blog/learn-deno-chat-app">ã€ŠDeno + WebSockets æ‰“é€ èŠå¤©å®¤åº”ç”¨ã€‹</a>ã€‚åœ¨é‚£ä¹‹åï¼Œæœ‰å¾ˆå¤šå›°æƒ‘æ¥è¸µè€Œè‡³â€”â€”å…¶ä¸­å¤§éƒ¨åˆ†éƒ½åœ¨æ€è€ƒå¦‚ä½•åœ¨å…¨æ–°çš„ Deno ç”Ÿæ€ä¸­æ¥åš Node.js ä¸Šå¸¸åšçš„å·¥ä½œã€‚</p>\n<p>æ‰€ä»¥æˆ‘å°è¯•æ•´ç†ä¸€äº› Node.js ä¸­å¸¸è§åº“åœ¨ Deno ä¸‹çš„ç›¸å…³è§£å†³æ–¹æ¡ˆã€‚åœ¨è¿™é‡Œæˆ‘å¾—å¼ºè°ƒï¼Œå¾ˆå¤š Node.js çš„æ¨¡å—éƒ½å¯ä»¥é‡ç”¨ï¼Œå¹¶ä¸”æ²¡æœ‰å¿…è¦ä¸ºæ¯ä¸ªåº“éƒ½é‡æ–°é€ ä¸€éè½®å­ã€‚ä½ å¯ä»¥è®¿é—® <a href="https://www.pika.dev/about">pika.dev</a> æ¥å¯»æ‰¾åœ¨ Deno ä¸­å¯ä»¥ç›´æ¥ä½¿ç”¨çš„ ES æ¨¡å—ã€‚</p>\n<blockquote>\n<p>è¯‘è€…æ³¨ï¼šã€ŠDeno + WebSockets æ‰“é€ èŠå¤©å®¤åº”ç”¨ã€‹å·²ç»ç¿»è¯‘å¹¶æ”¶å½•ï¼›pika.dev ç”¨æ¥åœ¨ Npm ä¸Šå¯»æ‰¾ç¬¦åˆç°ä»£ ESM æ ‡å‡†çš„è½¯ä»¶åŒ…ï¼ˆæ›´å¿«ã€æ›´å°ï¼‰ã€‚</p>\n</blockquote>\n<p><strong>æœ¬æ–‡çš„ç›®å½•å¦‚ä¸‹ï¼š</strong></p>\n<ul>\n<li>Electron</li>\n<li>Forever / PM2</li>\n<li>Express / Koa</li>\n<li>MongoDB</li>\n<li>PostgresSQL</li>\n<li>MySQL / MariaDB</li>\n<li>Redis</li>\n<li>Nodemon</li>\n<li>Jestã€Jasmineã€Ava...</li>\n<li>Webpackã€Parcelã€Rollup...</li>\n<li>Prettier</li>\n<li>NPM Scripts</li>\n<li>Nvm</li>\n<li>Npx</li>\n<li>åœ¨ Docker ä¸Šè¿è¡Œ</li>\n<li>ä½œä¸º Lambda è¿è¡Œ</li>\n<li>å°ç»“</li>\n</ul>\n<h2 id="electron">Electron<a class="anchor" href="#electron">Â§</a></h2>\n<p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨åŸºäº Node.js + <code>Chromium</code> çš„ Electron æ¥ä¾æ‰˜ Web æŠ€æœ¯æ ˆåˆ›å»ºæ¡Œé¢åº”ç”¨ç¨‹åºã€‚é‚£ä¹ˆæˆ‘ä»¬å¯ä»¥åœ¨ Deno ä¸‹ä½¿ç”¨ Electron å—ï¼Ÿæˆ–è€…è¿˜æœ‰å…¶å®ƒæ›´å¤šé€‰æ‹©å—ï¼Ÿ</p>\n<p><img src="http://qiniu.ningo.cloud/articles/1b3-02.jpg" alt=""></p>\n<p>ç­”æ¡ˆæ˜¯å¦‚ä»Šçš„ Electron è¿˜è¿œè¿œä¸èƒ½è¿è¡Œåœ¨ Deno ä¸Šï¼Œæˆ‘ä»¬å¿…é¡»å¯»æ‰¾å…¶å®ƒçš„è§£å†³æ–¹æ¡ˆã€‚è‡ªä» Deno é€‰æ‹©ç”¨ Rust è¯­è¨€æ„å»ºå…¶å†…æ ¸åï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ Rust ç”Ÿæ€ä¸Šçš„ Web View <a href="https://github.com/Boscop/web-view">@Bosop/web-view</a> æ¥åœ¨ Deno ä¸Šè¿è¡Œæ¡Œé¢åº”ç”¨ã€‚</p>\n<p>äºæ˜¯ <a href="https://github.com/eliassjogreen/deno_webview">@eliassjogreen/deno_webview</a> åº”è¿è€Œç”Ÿã€‚</p>\n<pre class="language-typescript"><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">{</span> WebView <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"<a class="token url-link" href="https://deno.land/x/webview/mod.ts">https://deno.land/x/webview/mod.ts</a>"</span><span class="token punctuation">;</span>\n\n<span class="token keyword">const</span> sharedOptions <span class="token operator">=</span> <span class="token punctuation">{</span>\n  width<span class="token operator">:</span> <span class="token number">400</span><span class="token punctuation">,</span>\n  height<span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span>\n  resizable<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>\n  debug<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>\n  frameless<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n<span class="token keyword">const</span> webview1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WebView</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n  title<span class="token operator">:</span> <span class="token string">"Multiple deno_webview example"</span><span class="token punctuation">,</span>\n  url<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">data:text/html,\n    &lt;html>\n    &lt;body>\n      &lt;h1>1&lt;/h1>\n    &lt;/body>\n    &lt;/html>\n    </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>\n  <span class="token operator">...</span>sharedOptions<span class="token punctuation">,</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token keyword">const</span> webview2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WebView</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n  title<span class="token operator">:</span> <span class="token string">"Multiple deno_webview example"</span><span class="token punctuation">,</span>\n  url<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">data:text/html,\n    &lt;html>\n    &lt;body>\n      &lt;h1>2&lt;/h1>\n    &lt;/body>\n    &lt;/html>\n    </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>\n  <span class="token operator">...</span>sharedOptions<span class="token punctuation">,</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token keyword">await</span> <span class="token builtin">Promise</span><span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">[</span>webview1<span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> webview2<span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre>\n<p><img src="http://qiniu.ningo.cloud/articles/1b3-03.jpg" alt=""></p>\n<h2 id="forever--pm2">Forever / PM2<a class="anchor" href="#forever--pm2">Â§</a></h2>\n<p><a href="https://github.com/foreversd/forever">Forever</a> å’Œ <a href="https://github.com/Unitech/pm2">PM2</a>Â æ˜¯ç”¨æ¥å®ˆæŠ¤æŒ‡å®šè„šæœ¬å…¶è¿›ç¨‹çš„ä¸¤ä¸ª CLI å·¥å…·ã€‚PM2 ç›¸æ¯” Forever æ¥è¯´åŠŸèƒ½æ›´ä¸ºå®Œå–„ï¼Œç›¸æ¯”è¿˜èƒ½åŒæ—¶ä½œä¸ºè´Ÿè½½å‡è¡¡å™¨ã€‚åœ¨ Node.js ä¸­è¿™ä¸¤ä¸ªå·¥å…·éƒ½å¾ˆæœ‰ç”¨ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ Deno ä¸­ä¹Ÿä½¿ç”¨å®ƒä»¬å—ï¼Ÿ</p>\n<p>Forever ä¸“ä¸º Node.js åˆ›é€ ï¼Œå°±ä¸ç”¨è€ƒè™‘äº†ï¼›è€Œ PM2 å¯ä»¥è¿è¡Œ Node.js ä¹‹å¤–çš„çš„è„šæœ¬è¯­è¨€ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥è®© PM2 å’Œ Deno æ­é…èµ·æ¥ã€‚</p>\n<p><img src="http://qiniu.ningo.cloud/articles/1b3-04.jpg" alt=""></p>\n<p>åˆ›å»ºä¸€ä¸ª <code>app.sh</code> æ–‡ä»¶ï¼š</p>\n<pre class="language-bash"><code class="language-bash"><span class="token shebang important">#!/bin/bash</span>\ndeno run -A myCode.ts\n</code></pre>\n<p>ä¿å­˜ååœ¨å½“å‰ç›®å½•æ‰§è¡Œï¼ˆè¯·ç¡®ä¿ pm2 å·²æˆåŠŸå®‰è£…ï¼‰ï¼š</p>\n<pre class="language-bash"><code class="language-bash">pm2 start ./app.sh\n</code></pre>\n<p><img src="http://qiniu.ningo.cloud/articles/1b3-05.jpg" alt=""></p>\n<h2 id="express--koa">Express / Koa<a class="anchor" href="#express--koa">Â§</a></h2>\n<p><a href="https://github.com/expressjs/express">Express</a> å’Œ <a href="https://github.com/koajs/koa">Koa</a> ä»¥å…¶å¼ºå¤§çš„è·¯ç”±ç³»ç»Ÿå’Œå‹å¥½çš„ HTTP å·¥å…·åº“ï¼ˆé‡å®šå‘ã€ç¼“å­˜ç­‰ï¼‰è€Œé—»åäº Node.js ç¤¾åŒºã€‚æˆ‘ä»¬å¯ä»¥åœ¨ Deno ä¸­ä½¿ç”¨å®ƒä»¬å—ï¼Ÿç­”æ¡ˆæ˜¯ä¸èƒ½...ä½†ä¹Ÿæœ‰ä¸€äº›æ›¿ä»£æ–¹æ¡ˆã€‚</p>\n<p><img src="http://qiniu.ningo.cloud/articles/1b3-06.jpg" alt=""></p>\n<h3 id="http%E6%A0%87%E5%87%86%E5%BA%93">HTTPï¼ˆæ ‡å‡†åº“ï¼‰<a class="anchor" href="#http%E6%A0%87%E5%87%86%E5%BA%93">Â§</a></h3>\n<p>Deno å†…ç½®çš„ STD æ ‡å‡†åº“å·²ç»æ¶µç›–äº† <code>Express</code> æˆ– <code>Koa</code> çš„ç»å¤§å¤šæ•°åŠŸèƒ½ï¼š<a href="https://deno.land/std/http/">https://deno.land/std/http/</a>ã€‚</p>\n<pre class="language-typescript"><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">{</span> ServerRequest <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"<a class="token url-link" href="https://deno.land/std/http/server.ts">https://deno.land/std/http/server.ts</a>"</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> <span class="token punctuation">{</span> getCookies <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"<a class="token url-link" href="https://deno.land/std/http/cookie.ts">https://deno.land/std/http/cookie.ts</a>"</span><span class="token punctuation">;</span>\n\n<span class="token keyword">let</span> request <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ServerRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\nrequest<span class="token punctuation">.</span>headers <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Headers</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\nrequest<span class="token punctuation">.</span>headers<span class="token punctuation">.</span><span class="token keyword">set</span><span class="token punctuation">(</span><span class="token string">"Cookie"</span><span class="token punctuation">,</span> <span class="token string">"full=of; tasty=chocolate"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token keyword">const</span> cookies <span class="token operator">=</span> <span class="token function">getCookies</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"cookies:"</span><span class="token punctuation">,</span> cookies<span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre>\n<p>ä½†ç”±äº Deno å†…ç½®çš„ HTTP æ ‡å‡†åº“å…¶å£°æ˜è·¯ç”±çš„æ–¹å¼å¹¶ä¸é‚£ä¹ˆå¸å¼•äººï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹å…¶å®ƒçš„è§£å†³æ–¹æ¡ˆï¼Œå¦‚ä¸‹ã€‚</p>\n<h3 id="oak-%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93">Oak (ç¬¬ä¸‰æ–¹åº“)<a class="anchor" href="#oak-%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93">Â§</a></h3>\n<p>å— Koa å¯å‘ï¼Œè¿™æ˜¯ç›®å‰æœ€ä¼˜é›…çš„è§£å†³æ–¹æ¡ˆä¹‹ä¸€ï¼š<a href="https://github.com/oakserver/oak">https://github.com/oakserver/oak</a>ã€‚</p>\n<pre class="language-typescript"><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">{</span> Application<span class="token punctuation">,</span>  <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"<a class="token url-link" href="https://deno.land/x/oak/mod.ts">https://deno.land/x/oak/mod.ts</a>"</span><span class="token punctuation">;</span>\n\n<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Application</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\napp<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token punctuation">(</span>ctx<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n  ctx<span class="token punctuation">.</span>response<span class="token punctuation">.</span>body <span class="token operator">=</span> <span class="token string">"Hello World!"</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token keyword">await</span> app<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token punctuation">{</span> port<span class="token operator">:</span> <span class="token number">8000</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre>\n<h3 id="abc-%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93">Abc (ç¬¬ä¸‰æ–¹åº“)<a class="anchor" href="#abc-%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93">Â§</a></h3>\n<p>ç±»ä¼¼äº <code>Oak</code>ï¼š<a href="https://deno.land/x/abc">https://deno.land/x/abc</a>ã€‚</p>\n<pre class="language-typescript"><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">{</span> Application <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"<a class="token url-link" href="https://deno.land/x/abc/mod.ts">https://deno.land/x/abc/mod.ts</a>"</span><span class="token punctuation">;</span>\n\n<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Application</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\napp<span class="token punctuation">.</span><span class="token keyword">static</span><span class="token punctuation">(</span><span class="token string">"/static"</span><span class="token punctuation">,</span> <span class="token string">"assets"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\napp<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">"/hello"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>c<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token string">"Hello!"</span><span class="token punctuation">)</span>\n  <span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">{</span> port<span class="token operator">:</span> <span class="token number">8080</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre>\n<h3 id="deno-express%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93">Deno-Expressï¼ˆç¬¬ä¸‰æ–¹åº“ï¼‰<a class="anchor" href="#deno-express%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93">Â§</a></h3>\n<p>ä¹Ÿè®¸æ˜¯æœ€ç±»ä¼¼äº Express Framework çš„æ›¿ä»£å“ï¼š<a href="https://github.com/NMathar/deno-express">https://github.com/NMathar/deno-express</a>ã€‚</p>\n<pre class="language-typescript"><code class="language-typescript"><span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> exp <span class="token keyword">from</span> <span class="token string">"<a class="token url-link" href="https://raw.githubusercontent.com/NMathar/deno-express/master/mod.ts">https://raw.githubusercontent.com/NMathar/deno-express/master/mod.ts</a>"</span><span class="token punctuation">;</span>\n\n<span class="token keyword">const</span> port <span class="token operator">=</span> <span class="token number">3000</span><span class="token punctuation">;</span>\n<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">exp</span><span class="token punctuation">.</span><span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\napp<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>exp<span class="token punctuation">.</span><span class="token function">static_</span><span class="token punctuation">(</span><span class="token string">"./public"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\napp<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>exp<span class="token punctuation">.</span>bodyParser<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\napp<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">"/api/todos"</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span>req<span class="token punctuation">,</span> res<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n  <span class="token keyword">await</span> res<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">"Buy some milk"</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token keyword">const</span> server <span class="token operator">=</span> <span class="token keyword">await</span> app<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span>port<span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">app listening on port </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>server<span class="token punctuation">.</span>port<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre>\n<h2 id="mongodb">MongoDB<a class="anchor" href="#mongodb">Â§</a></h2>\n<p><a href="https://github.com/mongodb/mongo">MongoDB</a> æ˜¯ä¸€ä¸ªå¹¿å—æ¬¢è¿çš„æ–‡æ¡£æ•°æ®åº“ï¼Œå…·æœ‰å¼ºå¤§çš„å¯æ‰©å±•æ€§å’Œçµæ´»æ€§ã€‚åœ¨ JavaScript ç”Ÿæ€ç³»ç»Ÿä¸­å·²ç»è¢«å¹¿æ³›ä½¿ç”¨ï¼šæ¯”å¦‚å¾ˆå¤šåƒÂ <code>MEAN</code>Â æˆ–Â <code>MERN</code>Â è¿™æ ·çš„æŠ€æœ¯å †æ ˆã€‚</p>\n<blockquote>\n<p>è¯‘è€…æ³¨ï¼šMEAN = MongoDB(æ•°æ®åº“) + Express(åç«¯) + Angular(å‰ç«¯) + Node.js(è¿è¡Œæ—¶)ï¼›MERN åŒå·¦ï¼Œä½†å…¶ä¸­çš„ R ä»£è¡¨ Reactã€‚å¦‚ä¸ŠæŠ€æœ¯æ ˆéƒ½å¯¹ JavaScript è¯­è¨€æå…¶å‹å¥½ã€‚</p>\n</blockquote>\n<p><img src="http://qiniu.ningo.cloud/articles/1b3-07.jpg" alt=""></p>\n<p>å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥è®© Deno å’Œ MongoDB æ­é…èµ·æ¥ï¼Œæ¯”å¦‚ä½¿ç”¨è¿™ä¸ªæ¨¡å—ï¼š<a href="https://github.com/manyuanrong/deno_mongo">https://github.com/manyuanrong/deno_mongo</a>ã€‚</p>\n<pre class="language-typescript"><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">{</span> init<span class="token punctuation">,</span> MongoClient <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"<a class="token url-link" href="https://deno.land/x/mongo@v0.6.0/mod.ts">https://deno.land/x/mongo@v0.6.0/mod.ts</a>"</span><span class="token punctuation">;</span>\n\n<span class="token comment">// Initialize the plugin</span>\n<span class="token keyword">await</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token keyword">const</span> client <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MongoClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\nclient<span class="token punctuation">.</span><span class="token function">connectWithUri</span><span class="token punctuation">(</span><span class="token string">"<a class="token url-link" href="mongodb://localhost:27017">mongodb://localhost:27017</a>"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token keyword">const</span> db <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">database</span><span class="token punctuation">(</span><span class="token string">"test"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">const</span> users <span class="token operator">=</span> db<span class="token punctuation">.</span><span class="token function">collection</span><span class="token punctuation">(</span><span class="token string">"users"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token comment">// insert</span>\n<span class="token keyword">const</span> insertId <span class="token operator">=</span> <span class="token keyword">await</span> users<span class="token punctuation">.</span><span class="token function">insertOne</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n  username<span class="token operator">:</span> <span class="token string">"user1"</span><span class="token punctuation">,</span>\n  password<span class="token operator">:</span> <span class="token string">"pass1"</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token comment">// findOne</span>\n<span class="token keyword">const</span> user1 <span class="token operator">=</span> <span class="token keyword">await</span> users<span class="token punctuation">.</span><span class="token function">findOne</span><span class="token punctuation">(</span><span class="token punctuation">{</span> _id<span class="token operator">:</span> insertId <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token comment">// find</span>\n<span class="token keyword">const</span> users <span class="token operator">=</span> <span class="token keyword">await</span> users<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">{</span> username<span class="token operator">:</span> <span class="token punctuation">{</span> $ne<span class="token operator">:</span> <span class="token keyword">null</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token comment">// aggregation</span>\n<span class="token keyword">const</span> docs <span class="token operator">=</span> <span class="token keyword">await</span> users<span class="token punctuation">.</span><span class="token function">aggregation</span><span class="token punctuation">(</span><span class="token punctuation">[</span>\n  <span class="token punctuation">{</span> $match<span class="token operator">:</span> <span class="token punctuation">{</span> username<span class="token operator">:</span> <span class="token string">"many"</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>\n  <span class="token punctuation">{</span> $group<span class="token operator">:</span> <span class="token punctuation">{</span> _id<span class="token operator">:</span> <span class="token string">"$username"</span><span class="token punctuation">,</span> total<span class="token operator">:</span> <span class="token punctuation">{</span> $sum<span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span>\n<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token comment">// updateOne</span>\n<span class="token keyword">const</span> <span class="token punctuation">{</span> matchedCount<span class="token punctuation">,</span> modifiedCount<span class="token punctuation">,</span> upsertedId <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">await</span> users<span class="token punctuation">.</span><span class="token function">updateOne</span><span class="token punctuation">(</span>\n  username<span class="token operator">:</span> <span class="token punctuation">{</span> $ne<span class="token operator">:</span> <span class="token keyword">null</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>\n  <span class="token punctuation">{</span> $<span class="token keyword">set</span><span class="token operator">:</span> <span class="token punctuation">{</span> username<span class="token operator">:</span> <span class="token string">"USERNAME"</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span>\n<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token comment">// deleteOne</span>\n<span class="token keyword">const</span> deleteCount <span class="token operator">=</span> <span class="token keyword">await</span> users<span class="token punctuation">.</span><span class="token function">deleteOne</span><span class="token punctuation">(</span><span class="token punctuation">{</span> _id<span class="token operator">:</span> insertId <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre>\n<h2 id="postgressql">PostgresSQL<a class="anchor" href="#postgressql">Â§</a></h2>\n<p><img src="http://qiniu.ningo.cloud/articles/1b3-08.jpg" alt=""></p>\n<p>ä¸ MongoDB ä¸€æ ·ï¼Œ<a href="https://github.com/postgres/postgres/">PostgresSQL</a> ä¹Ÿæœ‰ä¸€ä¸ª Deno ç”Ÿæ€åº“ï¼š<a href="https://github.com/buildondata/deno-postgres%E3%80%82">https://github.com/buildondata/deno-postgresã€‚</a></p>\n<pre class="language-typescript"><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">{</span> Client <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"<a class="token url-link" href="https://deno.land/x/postgres/mod.ts">https://deno.land/x/postgres/mod.ts</a>"</span><span class="token punctuation">;</span>\n\n<span class="token keyword">const</span> client <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Client</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n  user<span class="token operator">:</span> <span class="token string">"user"</span><span class="token punctuation">,</span>\n  database<span class="token operator">:</span> <span class="token string">"test"</span><span class="token punctuation">,</span>\n  hostname<span class="token operator">:</span> <span class="token string">"localhost"</span><span class="token punctuation">,</span>\n  port<span class="token operator">:</span> <span class="token number">5432</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">await</span> client<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token keyword">await</span> client<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token string">"SELECT * FROM people;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span>rows<span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">await</span> client<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre>\n<h2 id="mysql--mariadb">MySQL / MariaDB<a class="anchor" href="#mysql--mariadb">Â§</a></h2>\n<p><img src="http://qiniu.ningo.cloud/articles/1b3-09.jpg" alt=""></p>\n<p>ä¸Â <code>MongoDB</code>Â å’ŒÂ <code>PostgresSQL</code>Â ä¸€æ ·ï¼ŒDeno ç”Ÿæ€ä¸‹ä¹Ÿæœ‰Â <a href="https://github.com/mysqljs/mysql">MySQL</a>/<a href="https://github.com/mariadb-corporation/mariadb-connector-nodejs">MariaDB</a>Â çš„ç›¸å…³åº“ï¼š<a href="https://github.com/manyuanrong/deno_mysql">https://github.com/manyuanrong/deno_mysql</a>ã€‚</p>\n<pre class="language-typescript"><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">{</span> Client <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"<a class="token url-link" href="https://deno.land/x/mysql/mod.ts">https://deno.land/x/mysql/mod.ts</a>"</span><span class="token punctuation">;</span>\n\n<span class="token keyword">const</span> client <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token keyword">new</span> <span class="token class-name">Client</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n  hostname<span class="token operator">:</span> <span class="token string">"127.0.0.1"</span><span class="token punctuation">,</span>\n  username<span class="token operator">:</span> <span class="token string">"root"</span><span class="token punctuation">,</span>\n  db<span class="token operator">:</span> <span class="token string">"dbname"</span><span class="token punctuation">,</span>\n  poolSize<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token comment">// connection limit</span>\n  password<span class="token operator">:</span> <span class="token string">"password"</span><span class="token punctuation">,</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token keyword">await</span> client<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">INSERT INTO users(name) values(?)</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token punctuation">[</span>\n  <span class="token string">"aralroca"</span><span class="token punctuation">,</span>\n<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token comment">// { affectedRows: 1, lastInsertId: 1 }</span>\n</code></pre>\n<h2 id="redis">Redis<a class="anchor" href="#redis">Â§</a></h2>\n<p><img src="http://qiniu.ningo.cloud/articles/1b3-10.jpg" alt=""></p>\n<p><a href="https://github.com/NodeRedis/node-redis">Redis</a> æ˜¯è‘—åçš„ç¼“å­˜æ•°æ®åº“ä¹‹ä¸€ï¼ŒDeno ä¸‹ä¹Ÿæœ‰ç›¸å…³åº“ï¼š<a href="https://github.com/keroxp/deno-redis">https://github.com/keroxp/deno-redis</a>ã€‚</p>\n<pre class="language-typescript"><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">{</span> connect <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"<a class="token url-link" href="https://denopkg.com/keroxp/deno-redis/mod.ts">https://denopkg.com/keroxp/deno-redis/mod.ts</a>"</span><span class="token punctuation">;</span>\n\n<span class="token keyword">const</span> redis <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">connect</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n  hostname<span class="token operator">:</span> <span class="token string">"127.0.0.1"</span><span class="token punctuation">,</span>\n  port<span class="token operator">:</span> <span class="token number">6379</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">const</span> ok <span class="token operator">=</span> <span class="token keyword">await</span> redis<span class="token punctuation">.</span><span class="token keyword">set</span><span class="token punctuation">(</span><span class="token string">"example"</span><span class="token punctuation">,</span> <span class="token string">"this is an example"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">const</span> example <span class="token operator">=</span> <span class="token keyword">await</span> redis<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">"example"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre>\n<h2 id="nodemon">Nodemon<a class="anchor" href="#nodemon">Â§</a></h2>\n<p><img src="http://qiniu.ningo.cloud/articles/1b3-11.jpg" alt=""></p>\n<p><a href="https://github.com/remy/nodemon">Nodemon</a>Â åœ¨å¼€å‘ç¯å¢ƒä¸­ç›‘æ§æ–‡ä»¶çš„ä»»ä½•æ”¹å˜ï¼Œå¹¶èƒ½è‡ªåŠ¨æ›´æ–°æœåŠ¡å™¨ã€‚è¿™ä½¿Â <code>node</code>Â ä¸‹çš„å‘æ›´åŠ æœ‰è¶£ï¼Œæ— éœ€æ‰‹åŠ¨åœæ­¢å¹¶é‡å¯æœåŠ¡å™¨æ¥æŸ¥çœ‹åº”ç”¨çš„å˜åŒ–ã€‚é‚£ä¹ˆ Nodemon å¯ä»¥åœ¨ Deno ä¸­ä½¿ç”¨å—ï¼Ÿ</p>\n<p>æŠ±æ­‰ï¼Œä¸èƒ½...ä½†ä»ç„¶æœ‰å¦ä¸€ç§é€‰æ‹©ï¼šDenonï¼š<a href="https://github.com/eliassjogreen/denon">https://github.com/eliassjogreen/denon</a>ã€‚</p>\n<p>æˆ‘ä»¬å¯ä»¥åƒæ˜¯ <code>deno run</code>Â æ‰§è¡Œè„šæœ¬çš„æ–¹å¼ä¸€æ ·ä½¿ç”¨Â <code>Denon</code>ã€‚</p>\n<pre class="language-bash"><code class="language-bash">âœ denon server.ts\n</code></pre>\n<h2 id="jestjasmineava">Jestã€Jasmineã€Ava...<a class="anchor" href="#jestjasmineava">Â§</a></h2>\n<p><img src="http://qiniu.ningo.cloud/articles/1b3-12.jpg" alt=""></p>\n<p>åœ¨Â <code>Node.js</code>Â çš„ç”Ÿæ€ç³»ç»Ÿä¸­ï¼Œæœ‰å¾ˆå¤šä¸åŒçš„æµ‹è¯•å·¥å…·å’Œæ–¹æ³•ã€‚ä½†ç›´åˆ°ç°åœ¨ï¼Œå®˜æ–¹ä¹Ÿæ²¡æœ‰æ¨å‡ºä¸€ç§æ­£å¼çš„æœºåˆ¶æ¥æµ‹è¯•Â <code>Node.js</code>Â ä»£ç ã€‚</p>\n<p>åœ¨ Deno ä¸­ï¼Œå¯ä»¥ä½¿ç”¨å®˜æ–¹æµ‹è¯•Â <code>std</code>Â åº“æµ‹è¯•ï¼š<a href="https://deno.land/std/testing">https://deno.land/std/testing</a>ã€‚</p>\n<pre class="language-typescript"><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">{</span> assertStrictEq <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">\'<a class="token url-link" href="https://deno.land/std/testing/asserts.ts">https://deno.land/std/testing/asserts.ts</a>\'</span>\n\nDeno<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">\'My first test\'</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n  <span class="token function">assertStrictEq</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span>\n</code></pre>\n<p>è¿è¡Œæµ‹è¯•ï¼š</p>\n<pre class="language-bash"><code class="language-bash">âœ  deno <span class="token builtin class-name">test</span>\n</code></pre>\n<h2 id="webpackparcelrollup">Webpackã€Parcelã€Rollup...<a class="anchor" href="#webpackparcelrollup">Â§</a></h2>\n<p><img src="http://qiniu.ningo.cloud/articles/1b3-13.jpg" alt=""></p>\n<p>Deno çš„ä¼˜åŠ¿ä¹‹ä¸€æ˜¯æˆ‘ä»¬å¯ä»¥å°†Â <code>ESmodules</code>Â ä¸<code>TypeScript</code>Â ä¸€èµ·ä½¿ç”¨ï¼Œè€Œæ— éœ€è¯¸å¦‚Â <a href="https://github.com/webpack/webpack">Webpack</a>ã€<a href="https://github.com/parcel-bundler/parcel">Parcel</a>Â æˆ–<a href="https://github.com/rollup/rollup">Rollup</a>Â ä¹‹ç±»çš„å·¥å…·ã€‚</p>\n<p>ç„¶è€Œï¼Œå¯èƒ½ä½ ä¼šæƒ³ï¼Œå¦‚æœç»™å®šä¸€ä¸ªæ–‡ä»¶ç›®å½•ï¼Œæˆ‘ä»¬æ˜¯å¦å¯ä»¥å°†å…¶ç»Ÿä¸€æ‰“åŒ…åœ¨æœ‰ä¸€ä¸ª JavaScript æ–‡ä»¶é‡Œï¼Œå¹¶è®©å…¶èƒ½ç›´æ¥åœ¨ Web ä¸Šä»¥æ¨¡å—çš„å½¢å¼è¿è¡Œã€‚</p>\n<p>ç­”æ¡ˆæ˜¯å®Œå…¨å¯è¡Œï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ Deno çš„ CLI æ¥å®ç°ã€‚å› æ­¤ï¼Œä¸éœ€è¦ç¬¬ä¸‰æ–¹çš„æ‰“åŒ…å·¥å…·ã€‚</p>\n<pre class="language-bash"><code class="language-bash">âœ deno bundle myLib.ts myLib.bundle.js\n</code></pre>\n<p>ç°åœ¨å¯ä»¥å°†å…¶åŠ è½½åˆ°æµè§ˆå™¨ä¸­äº†ï¼š</p>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>module<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">\n  <span class="token keyword module">import</span> <span class="token imports"><span class="token operator">*</span> <span class="token keyword module">as</span> myLib</span> <span class="token keyword module">from</span> <span class="token string">"myLib.bundle.js"</span><span class="token punctuation">;</span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>\n</code></pre>\n<h2 id="prettier">Prettier<a class="anchor" href="#prettier">Â§</a></h2>\n<p><img src="http://qiniu.ningo.cloud/articles/1b3-14.jpg" alt=""></p>\n<p>åœ¨è¿‡å»çš„å‡ å¹´ä¸­ï¼Œ<a href="https://prettier.io/">Prettier</a>Â åœ¨ JavaScript ç”Ÿæ€ä¸­å·²å¹¿ä¸ºäººçŸ¥ï¼Œå› ä¸ºæœ‰äº†å®ƒï¼Œæˆ‘ä»¬ä¸å¿…æ‹…å¿ƒæ ¼å¼åŒ–æ–‡ä»¶ã€‚</p>\n<p>äº‹å®ä¸Š Prettier ä¹Ÿå¯ä»¥åœ¨ Deno ä¸Šä½¿ç”¨ï¼Œä½†æ˜¯æ²¡æœ‰å¿…è¦ï¼šå› ä¸º Deno æœ‰è‡ªå·±å†…ç½®çš„æ ¼å¼åŒ–ç¨‹åºã€‚</p>\n<p>æ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ ¼å¼åŒ–æ–‡ä»¶ï¼š</p>\n<pre class="language-bash"><code class="language-bash">âœ  deno <span class="token function">fmt</span>\n</code></pre>\n<h2 id="npm-scripts">NPM Scripts<a class="anchor" href="#npm-scripts">Â§</a></h2>\n<p><img src="http://qiniu.ningo.cloud/articles/1b3-15.jpg" alt=""></p>\n<p>æˆ‘éå¸¸æ€€å¿µçš„ä¸€ä»¶äº‹å°±æ˜¯æ›¾åœ¨ <code>package.json</code> ä¸­é…ç½®å„ç§å‘½ä»¤è¡Œè„šæœ¬ã€‚ä½†åœ¨ Deno ä¸Šï¼Œ<code>package.json</code>Â å·²ç»ä¸å¤å­˜åœ¨äº†ã€‚</p>\n<p>Deno ä¸Šçš„ä¸€ä¸ªç®€å•çš„æ›¿ä»£æ–¹æ³•æ˜¯ä½¿ç”¨Â <code>makefile</code> æŠ€æœ¯ï¼Œç”¨Â <code>make</code>Â å‘½ä»¤è¿è¡Œã€‚ä½†å¦‚æœä½ æ€€å¿µ NPM çš„è¯­æ³•ï¼ŒDeno ä¸Šä¹Ÿæœ‰ä¸€ä¸ª NPM é£æ ¼çš„è„šæœ¬è¿è¡Œå™¨ï¼š<a href="https://github.com/umbopepato/velociraptor">https://github.com/umbopepato/velociraptor</a></p>\n<p>æ‚¨å¯ä»¥ä½¿ç”¨è„šæœ¬å®šä¹‰æ–‡ä»¶ï¼š</p>\n<pre class="language-yaml"><code class="language-yaml"><span class="token comment"># scripts.yaml</span>\n<span class="token key atrule">scripts</span><span class="token punctuation">:</span>\n  <span class="token key atrule">start</span><span class="token punctuation">:</span> deno run <span class="token punctuation">-</span><span class="token punctuation">-</span>allow<span class="token punctuation">-</span>net server.ts\n  <span class="token key atrule">test</span><span class="token punctuation">:</span> deno test <span class="token punctuation">-</span><span class="token punctuation">-</span>allow<span class="token punctuation">-</span>net server_test.ts\n</code></pre>\n<p>å¹¶æ‰§è¡Œï¼š</p>\n<pre class="language-bash"><code class="language-bash">âœ  vr run <span class="token operator">&lt;</span>SCRIPT<span class="token operator">></span>\n</code></pre>\n<p>è¿˜æœ‰ä¸€ä¸ªæ›¿ä»£å“æ˜¯Â <a href="https://github.com/BentoumiTech/denox">denox</a>ï¼Œä¸Â <code>Velociraptor</code>Â éå¸¸ç›¸ä¼¼ã€‚</p>\n<h2 id="nvm">Nvm<a class="anchor" href="#nvm">Â§</a></h2>\n<p><img src="http://qiniu.ningo.cloud/articles/1b3-16.jpg" alt=""></p>\n<p><a href="https://github.com/nvm-sh/nvm">Nvm</a>Â æ˜¯ä¸€ä¸ªç”¨äºç®¡ç†å¤šä¸ª Node.jsÂ ç‰ˆæœ¬çš„Â <code>CLI</code>Â å·¥å…·ï¼Œå¯ä»¥æ ¹æ®å…·ä½“çš„é¡¹ç›®æ¥è½»æ¾å‡çº§æˆ–é™çº§ Node.js ç‰ˆæœ¬ã€‚</p>\n<p>åœ¨ Deno ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ç›¸å½“äº <code>nvm</code>Â çš„ <code>dvm</code>Â ï¼š<a href="https://github.com/axetroy/dvm">https://github.com/axetroy/dvm</a>ã€‚</p>\n<pre class="language-bash"><code class="language-bash">âœ  dvm use <span class="token number">1.0</span>.0\n</code></pre>\n<h2 id="npx">Npx<a class="anchor" href="#npx">Â§</a></h2>\n<p><a href="https://github.com/npm/npx">NPX</a>Â åœ¨è¿‘å‡ å¹´éå¸¸æµè¡Œï¼Œå¯ä»¥åœ¨ NPM ä¸å®‰è£…çš„æƒ…å†µä¸‹ç›´æ¥æ‰§è¡Œ NPM åŒ…ã€‚ç”±äº Deno æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„ç”Ÿæ€ç³»ç»Ÿï¼Œå› æ­¤å¦‚ä»Šå¾ˆå¤š NPM åº“éƒ½ä¸å¯ç›´æ¥ä½¿ç”¨ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¦‚ä½•åªä½¿ç”¨Â <code>deno install [https://url-of-module.ts](https://url-of-module.ts)</code>Â è€Œæ— éœ€å®‰è£…å°±èƒ½æ‰§è¡Œ Deno æ¨¡å—å‘¢ï¼Ÿ</p>\n<p>å°±åƒæˆ‘ä»¬é€šè¿‡å‘½ä»¤è¡Œè¿è¡Œé¡¹ç›®ä¸€æ ·ï¼Œåªä¸è¿‡è¿™é‡ŒæŠŠæˆ‘ä»¬ä½¿ç”¨ URL æ¨¡å—åçš„ä»£æ›¿äº†æ–‡ä»¶åï¼š</p>\n<pre class="language-bash"><code class="language-bash">âœ  deno run <a class="token url-link" href="https://deno.land/std/examples/welcome.ts">https://deno.land/std/examples/welcome.ts</a>\n</code></pre>\n<p>å¦‚ä¸Šæ‰€è§ï¼Œæˆ‘ä»¬ä¸ä»…ä»…éœ€è¦è®°ä½æ¨¡å—çš„åç§°ï¼Œè¿˜è¦è®°ä½æ•´ä¸ª URL åœ°å€ï¼Œè¿™ä½¿å®ƒçš„ä½¿ç”¨æ›´åŠ éº»çƒ¦ï¼›ä½†æ˜¯å¦ä¸€æ–¹é¢ï¼Œä¹Ÿå› æ­¤æä¾›äº†æ›´å¤§çš„çµæ´»æ€§â€”â€”æˆ‘ä»¬å¯ä»¥è¿è¡Œä»»ä½•æ–‡ä»¶ï¼Œè€Œä¸ä»…ä»…èƒ½è¿è¡Œåƒ Npx è¿™æ ·åœ¨Â <code>package.json</code>Â ä¸­æŒ‡å®šçš„äºŒè¿›åˆ¶æ–‡ä»¶ã€‚</p>\n<h2 id="%E5%9C%A8-docker-%E4%B8%8A%E8%BF%90%E8%A1%8C">åœ¨ Docker ä¸Šè¿è¡Œ<a class="anchor" href="#%E5%9C%A8-docker-%E4%B8%8A%E8%BF%90%E8%A1%8C">Â§</a></h2>\n<p><img src="http://qiniu.ningo.cloud/articles/1b3-17.jpg" alt=""></p>\n<p>è¦åœ¨Â <code>Docker</code>Â å†…éƒ¨è¿è¡Œ Denoï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºä»¥ä¸‹Â <code>Dockerfile</code>ï¼š</p>\n<pre class="language-bash"><code class="language-bash">FROM hayd/alpine-deno:1.0.0\n\nEXPOSE <span class="token number">1993</span>  <span class="token comment"># Port.</span>\n\nWORKDIR /app\n\n<span class="token environment constant">USER</span> deno\n\nCOPY deps.ts <span class="token builtin class-name">.</span>\nRUN deno cache deps.ts <span class="token comment"># Cache the deps</span>\n\nADD <span class="token builtin class-name">.</span> <span class="token builtin class-name">.</span>\nRUN deno cache main.ts <span class="token comment"># main entrypoint.</span>\n\nCMD <span class="token punctuation">[</span><span class="token string">"--allow-net"</span>, <span class="token string">"main.ts"</span><span class="token punctuation">]</span>\n</code></pre>\n<p>æ„å»ºå¹¶è¿è¡Œå®ƒï¼š</p>\n<pre class="language-bash"><code class="language-bash">âœ  docker build -t app <span class="token builtin class-name">.</span> <span class="token operator">&amp;&amp;</span> docker run -it --init -p <span class="token number">1993</span>:1993 app\n</code></pre>\n<p>ç›¸å…³ä»“åº“ï¼š<a href="https://github.com/hayd/deno-docker">https://github.com/hayd/deno-docker</a></p>\n<h2 id="%E4%BD%9C%E4%B8%BA-lambda-%E8%BF%90%E8%A1%8C">ä½œä¸º Lambda è¿è¡Œ<a class="anchor" href="#%E4%BD%9C%E4%B8%BA-lambda-%E8%BF%90%E8%A1%8C">Â§</a></h2>\n<p><img src="http://qiniu.ningo.cloud/articles/1b3-18.jpg" alt=""></p>\n<p>è¦å°† Deno ä½œä¸ºÂ <code>lambda</code>Â è¿è¡Œï¼Œéœ€è¦Â <code>Deno STD</code>Â åº“ä¸­æœ‰ç±»ä¼¼äºè¿™æ ·çš„æ¨¡å—ï¼š<a href="https://deno.land/x/lambda">https://deno.land/x/lambda</a>ã€‚</p>\n<pre class="language-typescript"><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">{</span>\n  APIGatewayProxyEvent<span class="token punctuation">,</span>\n  APIGatewayProxyResult<span class="token punctuation">,</span>\n  Context\n<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"<a class="token url-link" href="https://deno.land/x/lambda/mod.ts">https://deno.land/x/lambda/mod.ts</a>"</span><span class="token punctuation">;</span>\n\n<span class="token keyword">export</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">handler</span><span class="token punctuation">(</span>\n  event<span class="token operator">:</span> APIGatewayProxyEvent<span class="token punctuation">,</span>\n  context<span class="token operator">:</span> Context\n<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span>APIGatewayProxyResult<span class="token operator">></span> <span class="token punctuation">{</span>\n  <span class="token keyword">return</span> <span class="token punctuation">{</span>\n    body<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Welcome to deno </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>Deno<span class="token punctuation">.</span>version<span class="token punctuation">.</span>deno<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> ğŸ¦•</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>\n    headers<span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token string">"content-type"</span><span class="token operator">:</span> <span class="token string">"text/html;charset=utf8"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>\n    statusCode<span class="token operator">:</span> <span class="token number">200</span>\n  <span class="token punctuation">}</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n</code></pre>\n<p>å‚è€ƒï¼š</p>\n<ul>\n<li><code>Vercel</code>Â ä¸­çš„Denoï¼š<a href="https://github.com/lucacasonato/now-deno">https://github.com/lucacasonato/now-deno</a>ã€‚</li>\n<li><code>AWS</code>Â ä¸­çš„Denoï¼š<a href="https://blog.begin.com/deno-runtime-support-for-architect-805fcbaa82c3">https://blog.begin.com/deno-runtime-support-for-architect-805fcbaa82c3</a>ã€‚</li>\n</ul>\n<h2 id="%E5%B0%8F%E7%BB%93">å°ç»“<a class="anchor" href="#%E5%B0%8F%E7%BB%93">Â§</a></h2>\n<p>æœ¬æ–‡ä¸­ï¼Œæˆ‘éš¾å…ä¼šé—æ¼ä¸€äº› Node åº“å¦‚ä½•åœ¨ Deno ä½¿ç”¨çš„è§£å†³æ–¹æ¡ˆã€‚å¦‚æœæœ‰ä»€ä¹ˆæ›´å¤šçš„åœ°æ–¹éœ€è¦æˆ‘è§£é‡Šï¼Œæ¬¢è¿å‘Šè¯‰æˆ‘ã€‚å¸Œæœ›è¿™ç¯‡æ–‡ç« èƒ½å¸®åŠ©ä½ æ‰“ç ´å¿«é€Ÿå…¥æ‰‹ Deno åº”ç”¨å¼€å‘çš„åƒµå±€ã€‚</p>\n<p>è¿™é‡Œå¯ä»¥æ¢ç´¢ Deno ä¸‹ç»å¤§å¤šæ•°å¯ä»¥ä¸Šæ‰‹çš„åº“ï¼š</p>\n<ul>\n<li><a href="https://deno.land/std">https://deno.land/std</a></li>\n<li><a href="https://deno.land/x">https://deno.land/x</a></li>\n<li><a href="https://www.pika.dev/">https://www.pika.dev/</a></li>\n</ul>'
        } }),
    'toc': React.createElement("aside", { dangerouslySetInnerHTML: {
            __html: '<nav class="toc"><ol><li><a href="#electron">Electron</a></li><li><a href="#forever--pm2">Forever / PM2</a></li><li><a href="#express--koa">Express / Koa</a><ol><li><a href="#http%E6%A0%87%E5%87%86%E5%BA%93">HTTPï¼ˆæ ‡å‡†åº“ï¼‰</a></li><li><a href="#oak-%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93">Oak (ç¬¬ä¸‰æ–¹åº“)</a></li><li><a href="#abc-%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93">Abc (ç¬¬ä¸‰æ–¹åº“)</a></li><li><a href="#deno-express%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93">Deno-Expressï¼ˆç¬¬ä¸‰æ–¹åº“ï¼‰</a></li></ol></li><li><a href="#mongodb">MongoDB</a></li><li><a href="#postgressql">PostgresSQL</a></li><li><a href="#mysql--mariadb">MySQL / MariaDB</a></li><li><a href="#redis">Redis</a></li><li><a href="#nodemon">Nodemon</a></li><li><a href="#jestjasmineava">Jestã€Jasmineã€Ava...</a></li><li><a href="#webpackparcelrollup">Webpackã€Parcelã€Rollup...</a></li><li><a href="#prettier">Prettier</a></li><li><a href="#npm-scripts">NPM Scripts</a></li><li><a href="#nvm">Nvm</a></li><li><a href="#npx">Npx</a></li><li><a href="#%E5%9C%A8-docker-%E4%B8%8A%E8%BF%90%E8%A1%8C">åœ¨ Docker ä¸Šè¿è¡Œ</a></li><li><a href="#%E4%BD%9C%E4%B8%BA-lambda-%E8%BF%90%E8%A1%8C">ä½œä¸º Lambda è¿è¡Œ</a></li><li><a href="#%E5%B0%8F%E7%BB%93">å°ç»“</a></li></ol></nav>'
        } }),
    'author': "hylerrix",
    'contributors': [
        "hylerrix"
    ],
    'date': "2021-03-09T09:46:04.000Z",
    'updated': null,
    'excerpt': "ä¸Šå‘¨æˆ‘å‘è¡¨äº†ä¸€ç¯‡å…³äº Deno çš„æ–‡ç« ï¼šã€ŠDeno + WebSockets æ‰“é€ èŠå¤©å®¤åº”ç”¨ã€‹ã€‚åœ¨é‚£ä¹‹åï¼Œæœ‰å¾ˆå¤šå›°æƒ‘æ¥è¸µè€Œè‡³â€”â€”å…¶ä¸­å¤§éƒ¨åˆ†éƒ½åœ¨æ€è€ƒå¦‚ä½•åœ¨å…¨æ–°çš„ Deno ç”Ÿæ€ä¸­æ¥åš Node.js ä¸Šå¸¸åšçš„å·¥ä½œã€‚ æ‰€ä»¥æˆ‘å°è¯•æ•´ç†ä¸€äº› Node.js ä¸­å¸¸è§åº“åœ¨...",
    'cover': "http://qiniu.ningo.cloud/articles/1b3-01.jpg",
    'sidebar': [
        {
            "text": "Deno é’»ç ”ä¹‹æœ¯",
            "link": "articles/index.html",
            "pagePath": "articles/README.md"
        },
        {
            "link": "articles/document/index.html",
            "title": "æ–‡æ¡£ç¯‡",
            "children": [
                {
                    "text": "Deno ç‰ˆæœ¬å†å²æ¦‚è§ˆ",
                    "link": "articles/document/deno-version-handbook.html",
                    "pagePath": "articles/document/deno-version-handbook.md"
                },
                {
                    "text": "Deno CLI é€šç”¨æ‰‹å†Œ",
                    "link": "articles/document/deno-cli-handbook.html",
                    "pagePath": "articles/document/deno-cli-handbook.md"
                },
                {
                    "text": "Deno ä¸“ä¸šæœ¯è¯­ç¿»è¯‘æ‰‹å†Œ",
                    "link": "articles/document/deno-translation-dictionary.html",
                    "pagePath": "articles/document/deno-translation-dictionary.md"
                }
            ],
            "pagePath": "articles/document/README.md",
            "text": "æ–‡æ¡£ç¯‡"
        },
        {
            "link": "articles/basic/index.html",
            "title": "åŸºç¡€ç¯‡",
            "children": [
                {
                    "text": "Helloï¼Œä»å¤šæ ·åŒ–å®‰è£…åˆ°ç®€å•å®æˆ˜",
                    "link": "articles/basic/install-and-hello-world.html",
                    "pagePath": "articles/basic/install-and-hello-world.md"
                }
            ],
            "pagePath": "articles/basic/README.md",
            "text": "åŸºç¡€ç¯‡"
        },
        {
            "link": "articles/architecture/index.html",
            "title": "æ¶æ„ç¯‡",
            "children": [
                {
                    "link": "articles/architecture/cli/index.html",
                    "title": "æ¢ç´¢ CLI",
                    "children": [
                        {
                            "text": "ä» CLI æŒ‡ä»¤é€šè¯» Deno v1.x å…¨ç‰¹æ€§",
                            "link": "articles/architecture/cli/deno-cli-v1-function.html",
                            "pagePath": "articles/architecture/cli/deno-cli-v1-function.md"
                        }
                    ],
                    "pagePath": "articles/architecture/cli/README.md",
                    "text": "CLI ç¯‡"
                }
            ],
            "pagePath": "articles/architecture/README.md",
            "text": "æ¶æ„ç¯‡"
        },
        {
            "link": "articles/ecology/index.html",
            "title": "ç”Ÿæ€ç¯‡",
            "children": [
                {
                    "text": "Awesome Deno ä¸­æ–‡èµ„æºå…¨å›¾è°±",
                    "link": "articles/ecology/awesome-deno-cn.html",
                    "pagePath": "articles/ecology/awesome-deno-cn.md"
                }
            ],
            "pagePath": "articles/ecology/README.md",
            "text": "ç”Ÿæ€ç¯‡"
        },
        {
            "link": "articles/node/index.html",
            "title": "Node ç¯‡",
            "children": [
                {
                    "text": "æ·±å…¥æµ…å‡º Create React App",
                    "link": "articles/node/create-react-app-intro.html",
                    "pagePath": "articles/node/create-react-app-intro.md"
                },
                {
                    "text": "æ¬²å–ä»£ç»å¤§å¤š JavaScript å·¥å…·é“¾ï¼ŸRome å°é²œ",
                    "link": "articles/node/javascript-toolchain-rome.html",
                    "pagePath": "articles/node/javascript-toolchain-rome.md"
                }
            ],
            "pagePath": "articles/node/README.md",
            "text": "Node ç¯‡"
        },
        {
            "link": "articles/official/index.html",
            "title": "å®˜æ–¹ç¯‡",
            "children": [
                {
                    "text": "ç²¾è¯»ã€ŠDeno 2020 å®˜æ–¹å›é¡¾åŠ 2021 å±•æœ›ã€‹",
                    "link": "articles/official/thoroughgoing-deno-in-2020.html",
                    "pagePath": "articles/official/thoroughgoing-deno-in-2020.md"
                },
                {
                    "text": "ç²¾è¯»ã€ŠDeno v1.8 å‘å¸ƒè¯´æ˜ã€‹",
                    "link": "articles/official/thoroughgoing-deno-1-8.html",
                    "pagePath": "articles/official/thoroughgoing-deno-1-8.md"
                }
            ],
            "pagePath": "articles/official/README.md",
            "text": "å®˜æ–¹ç¯‡"
        },
        {
            "link": "articles/translation/index.html",
            "title": "ç¿»è¯‘ç¯‡",
            "children": [
                {
                    "text": "Deno å…¥é—¨æ‰‹å†Œï¼šé™„å¤§é‡ TypeScript ä»£ç å®ä¾‹",
                    "link": "articles/translation/the-deno-handbook.html",
                    "pagePath": "articles/translation/the-deno-handbook.md"
                },
                {
                    "text": "Deno + WebSockets æ‰“é€ èŠå¤©å®¤åº”ç”¨",
                    "link": "articles/translation/deno-chat-app.html",
                    "pagePath": "articles/translation/deno-chat-app.md"
                },
                {
                    "text": "ä» Node åˆ° Denoï¼šæ¢ç´¢å„å¤§ä¸»æµåº“æ›¿ä»£æ–¹æ¡ˆ",
                    "link": "articles/translation/from-node-to-deno.html",
                    "pagePath": "articles/translation/from-node-to-deno.md"
                },
                {
                    "text": "Deno + Oak æ„å»ºé…·ç‚«çš„ Todo API",
                    "link": "articles/translation/deno-oak-todo-api.html",
                    "pagePath": "articles/translation/deno-oak-todo-api.md"
                },
                {
                    "text": "Deno + Oak è¿æ¥ MySQL å®æˆ˜æ•™ç¨‹",
                    "link": "articles/translation/deno-oak-mysql.html",
                    "pagePath": "articles/translation/deno-oak-mysql.md"
                },
                {
                    "text": "ä¸ºä»€ä¹ˆæˆ‘è®¤ä¸º Deno æ˜¯ä¸€ä¸ªè¿ˆå‘é”™è¯¯æ–¹å‘çš„ JavaScript è¿è¡Œæ—¶ï¼Ÿ",
                    "link": "articles/translation/why-deno-wrong.html",
                    "pagePath": "articles/translation/why-deno-wrong.md"
                }
            ],
            "pagePath": "articles/translation/README.md",
            "text": "ç¿»è¯‘ç¯‡"
        },
        {
            "link": "articles/rust/README.md",
            "title": "Rust ç¯‡",
            "children": [
                {
                    "text": "Rust è¯­è¨€å…¥é—¨æ•™ç¨‹ï¼šä»å®æˆ˜ To-Do App å¼€å§‹",
                    "link": "articles/rust/rust-tutorial-todo-app.html",
                    "pagePath": "articles/rust/rust-tutorial-todo-app.md"
                }
            ],
            "text": "articles/rust/README.md"
        },
        {
            "text": "æ„Ÿè°¢",
            "link": "articles/THANKS.html",
            "pagePath": "articles/THANKS.md"
        }
    ],
    'gitalk': React.createElement(Gitalk, { admin: [
            'hylerrix'
        ], clientID: "60180eea2c09238f8998", clientSecret: "e9ea0ff6555185eda28eff4dfd4b755b1764abf3", id: "articles/translation/from-node-to-deno.html", owner: "hylerrix", pagerDirection: "first", repo: "deno-tutorial", title: "\u4ECE Node \u5230 Deno\uFF1A\u63A2\u7D22\u5404\u5927\u4E3B\u6D41\u5E93\u66FF\u4EE3\u65B9\u6848" })
};
